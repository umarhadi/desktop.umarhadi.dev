"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3342],{83342:function(e,t,n){n.r(t),n.d(t,{default:function(){return c}});var r=n(85893),i=n(1864),o=n(964),a=n(67294),l=n(91410),s=n(26550);let u=o.ZP.textarea.attrs(()=>({autoComplete:"off",enterKeyHint:"done",maxLength:s.Zv,rows:1,spellCheck:!1})).withConfig({componentId:"sc-1f4503e0-0"})(["border:1px solid rgb(100,100,100);border-radius:0;font-family:inherit;font-size:11.5px;margin-bottom:2px;max-width:","px;min-height:19px;min-width:30px;overflow:hidden;padding:",";position:relative;resize:none;text-align:center;top:2px;user-select:text;white-space:break-spaces;z-index:1;"],({theme:e})=>e.sizes.fileEntry.renameWidth,({theme:e})=>`1px ${e.sizes.fileEntry.renamePadding}px`);var f=n(27972),c=({name:e,path:t,renameFile:n})=>{let c=(0,a.useRef)(null),p=()=>{var e;return n(t,null===(e=c.current)||void 0===e?void 0:e.value)},{formats:d,sizes:h}=(0,o.Fg)(),x=(0,a.useCallback)(e=>{if(e instanceof HTMLTextAreaElement){let{width:t}=(0,l.oc)(e.value,h.fileEntry.fontSize,d.systemFont);e.setAttribute("style","height: 1px"),e.setAttribute("style",`height: ${e.scrollHeight+2}px; width: ${t+22}px`)}},[d.systemFont,h.fileEntry.fontSize]);return(0,a.useLayoutEffect)(()=>{requestAnimationFrame(()=>x(c.current))},[x]),(0,a.useLayoutEffect)(()=>{var t,n;x(c.current),null===(t=c.current)||void 0===t||t.focus(s.eS),null===(n=c.current)||void 0===n||n.setSelectionRange(0,e.length-(0,i.extname)(e).length)},[e,x]),(0,r.jsx)(u,{ref:c,defaultValue:e,onBlurCapture:p,onClick:f.nK,onDragStart:f.nK,onKeyDown:({key:e})=>{"Enter"===e&&p()},onKeyUp:e=>{x(e.target),(0,f.nK)(e)}})}}}]);