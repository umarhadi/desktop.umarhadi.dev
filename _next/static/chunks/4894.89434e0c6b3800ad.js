"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4894],{94894:function(e,t,i){i.r(t),i.d(t,{default:function(){return b}});var r=i(85893),a=i(67294);let n=e=>"number"==typeof e||"string"==typeof e?e:"toString"in e?e.toString():"",l=new Set(["UserComment"]);var o=(e,t,r)=>{(0,a.useEffect)(()=>{e&&!t&&i.e(2918).then(i.t.bind(i,62918,23)).then(({default:t})=>{let{thumbnail:i,...a}=t.readFromBinaryFile(null==e?void 0:e.buffer),{blob:o,...d}=i||{},s=Object.entries(d),c=Object.entries(a),p=s.length>0,h=c.length>0;r(e=>({...e,exif:p||h?{...h?{EXIF:Object.fromEntries(c.filter(([e])=>!l.has(e)).map(([e,t])=>[e,n(t)]))}:{},...p?{Thumbnail:{...Object.fromEntries(s.map(([e,t])=>[e,n(t)])),...o?{Image:URL.createObjectURL(o)}:{}}}:{}}:void 0}))})},[t,e,r])},d=i(66137);let s=new Set(["@type","@typeorder","DataSize","extra","FileSize","ID","StreamOrder","UniqueID","VideoCount"]),c=e=>e.toString().padStart(2,"0"),p=(e,t)=>{if("Duration"===e){let e=Math.floor(t/3600),i=Math.floor((t-3600*e)/60);return`${c(e)}:${c(i)}:${c(Math.floor(t-3600*e-60*i))}`}return"OverallBitRate"===e||"BitRate"===e?`${Math.floor(t/1e3)}kbps`:"FrameRate"===e?`${t} frames/second`:t},h=e=>{var t;return(null==e?void 0:null===(t=e.track)||void 0===t?void 0:t.reduce((e,t)=>({...e,[t["@type"]]:Object.fromEntries([...Object.entries(t),...Object.entries(t.extra||{})].filter(([e])=>!s.has(e)).map(([e,t])=>[e,p(e,t)]))}),{}))||{}};var f=(e,t,i)=>{(0,a.useEffect)(()=>{if(e&&!t){let t=(e={})=>i(t=>({...t,mediaType:e}));(0,d.w)(e).then(e=>t(h(e))).catch(()=>t({}))}},[t,e,i])},x=i(70739);let g=i(964).ZP.div.withConfig({componentId:"sc-6b4d1328-0"})(['background-color:#fff;border:1px solid rgb(217,217,217);height:calc(100% - 64px);padding:12px 13px;position:relative;top:-1px;table{border:1px solid rgb(130,135,144);display:flex;flex-direction:column;height:100%;overflow-y:scroll;text-align:left;thead{background-color:#fff;display:flex;height:24px;padding:8px 5px;place-items:center;position:sticky;top:0;z-index:2;th{border-right:1px solid #e0e0e0;font-size:12px;font-weight:400;padding-left:4px;&.property{padding-left:0;width:123px;}&.value{border-right:none;}}}tbody{font-size:12px;padding-bottom:8px;tr{display:block;padding:0 5px;th{font-weight:400;max-width:127px;overflow:hidden;padding-right:4px;text-overflow:ellipsis;vertical-align:top;white-space:nowrap;width:127px;}td{cursor:text;max-width:157px;overflow:hidden;text-overflow:ellipsis;user-select:text;img{width:100%;}}&.header{color:rgb(0,45,135);display:inline-table;margin-top:4px;padding-left:12px;padding-right:10px;&:hover{background-color:rgba(0,140,255,10%);}&:first-child{margin-top:0;}.line{position:relative;width:100%;&::before{background-color:rgb(178,193,224);content:"";display:block;height:1px;left:0;position:absolute;top:8px;width:100%;}}}}}}']);var u=i(59140),b=(0,a.memo)(({hasExif:e,id:t,metaData:i,setMetaData:n,url:l})=>{let d=(0,a.useMemo)(()=>!(i.exif||i.mediaType),[i]),{readFile:s}=(0,u.o)(),[c,p]=(0,a.useState)();return o(e?c:void 0,i.exif,n),f(c,i.mediaType,n),(0,a.useEffect)(()=>{d&&l&&!c&&s(l).then(p)},[c,d,s,l]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g,{children:(0,r.jsxs)("table",{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"property",children:"Property"}),(0,r.jsx)("th",{className:"value",children:"Value"})]})}),(0,r.jsxs)("tbody",{children:[d&&(0,r.jsx)("tr",{className:"header",children:(0,r.jsx)("td",{children:"Loading..."})}),!d&&Object.entries({...i.exif,...i.mediaType}).map(([e,t],i)=>(0,r.jsxs)(a.Fragment,{children:[(0,r.jsxs)("tr",{className:"header",children:[(0,r.jsx)("th",{children:e}),(0,r.jsx)("th",{className:"line"})]}),Object.entries(t).map(([e,t])=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{title:e,children:e}),(0,r.jsx)("td",{children:"string"==typeof t&&t.startsWith("blob:")?(0,r.jsx)("img",{alt:"Thumbnail",decoding:"async",src:t}):t})]},`${e}-${t}`))]},`${e}${i}`))]})]})}),(0,r.jsx)(x.Z,{id:t})]})})},66137:function(e,t,i){i.d(t,{u:function(){return a},w:function(){return n}});let r=async e=>{let{default:t}=await i.e(1855).then(i.bind(i,21855));return t({format:e,locateFile:e=>`System/mediainfo.js/${e}`})},a=async e=>(await r("text")).analyzeData(()=>e.length,()=>e),n=async e=>(await (await r("object")).analyzeData(()=>e.length,()=>e)).media}}]);