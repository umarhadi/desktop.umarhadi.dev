"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8075,1978,291],{71978:function(e,t,i){i.r(t),i.d(t,{Back:function(){return r},Down:function(){return a},Forward:function(){return l},Refresh:function(){return s},Search:function(){return d},Up:function(){return c}});var n=i(85893),o=i(67294);let r=(0,o.memo)(()=>(0,n.jsx)("svg",{viewBox:"-8 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M32 14v4H7.656l7.172 7.172L12 28 0 16 12 4l2.828 2.828L7.656 14H32z"})})),l=(0,o.memo)(()=>(0,n.jsx)("svg",{viewBox:"8 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"m20 4 12 12-12 12-2.828-2.828L24.344 18H0v-4h24.344l-7.172-7.172L20 4z"})})),s=(0,o.memo)(()=>(0,n.jsx)("svg",{viewBox:"-10 -13 52 52",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M20.266.594q2.594.703 4.75 2.195t3.711 3.531 2.414 4.516T32 16q0 2.203-.57 4.25t-1.609 3.828-2.5 3.242-3.242 2.5-3.828 1.609-4.25.57-4.25-.57-3.828-1.609-3.242-2.5-2.5-3.242-1.609-3.82T.002 16q0-2.188.578-4.25t1.648-3.883T4.83 4.554t3.453-2.555H4.002v-2h8v8h-2V3.358q-1.828.875-3.305 2.195T4.174 8.522t-1.609 3.555-.563 3.922q0 1.922.5 3.711t1.414 3.344 2.195 2.836 2.836 2.195 3.336 1.414 3.719.5q1.922 0 3.711-.5t3.344-1.414 2.836-2.195 2.195-2.836 1.414-3.336.5-3.719q0-2.344-.758-4.516T27.127 7.53t-3.242-3.086-4.148-1.93l.531-1.922z"})})),a=(0,o.memo)(({flip:e})=>{let t=(0,o.useMemo)(()=>e?{transform:"scaleY(-1)",transition:"all 0.2s"}:void 0,[e]);return(0,n.jsx)("svg",{style:t,viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"m28.109 5.453 3.781 3.766L15.999 25.11.108 9.219l3.781-3.766 12.109 12.109L28.107 5.453z"})})}),c=(0,o.memo)(()=>{let e=(0,o.useMemo)(()=>({marginTop:"-1px"}),[]);return(0,n.jsx)("svg",{style:e,viewBox:"0 -7 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"m16 0 12 12-2.828 2.828L18 7.656V32h-4V7.656l-7.172 7.172L4 12 16 0z"})})}),d=(0,o.memo)(()=>(0,n.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M21 0q1.516 0 2.922.391T26.547 1.5t2.227 1.727 1.727 2.227 1.109 2.625.391 2.922-.391 2.922-1.109 2.625-1.727 2.227-2.227 1.727-2.625 1.109-2.922.391q-1.953 0-3.742-.656t-3.289-1.891L1.703 31.705q-.297.297-.703.297t-.703-.297T0 31.002t.297-.703l12.25-12.266q-1.234-1.5-1.891-3.289T10 11.002q0-1.516.391-2.922T11.5 5.455t1.727-2.227 2.227-1.727T18.079.392t2.922-.391zm0 20q1.859 0 3.5-.711t2.859-1.93 1.93-2.859T30 11t-.711-3.5-1.93-2.859-2.859-1.93T21 2t-3.5.711-2.859 1.93-1.93 2.859T12 11t.711 3.5 1.93 2.859 2.859 1.93T21 20z"})}))},291:function(e,t,i){i.d(t,{UNKNOWN_ICON:function(){return n}});let n="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAB0ElEQVR42u2ZVWLbQBiEp/K6DOpb+LF4ip47oCuULpAYH3uAlcbMNOZpm0lsizWz+/3CgEc9aiuFHz9/YYVIcjAAkODcYYDoTyPQHZse7m0E49tLkid/8rz4BuD7RgFIYpW+fvmMXStJEvz+/RuvXr1KG41mVhT5RiECRMUYsUuF0Nv18+fPcXp6ktbrjSzPhRBCDxxUpVKpG+Ls7DSt1eprhwjYWwAdJQD9EGftELV2iCiHCAQMAvT04sVznJ+fpdVqNcuj1hOBJj0wCvECFxcXaeWhIuEUYFADAGZCXF5dpg/3DxmA99YIZVmGRXr58lVqi1CMER8+fOh+pkUS5XIZd7d3ylEIViI5M7wCITqa1wOAtDVPKD1A45andC1ES/N6DZCuzKsIWZr3RoikMK4jZGleD2BsntDOA74tT0gIOZrXEfJmXiti24KleBi1M09SThBIU/P6mZiW5qEXMW3NUzuMGrc8NYRssSE0hFyZVxFyLVgdIcOW51oIWZqHfj9ga15+rOLb8lIRg47m9RoQ/R+eeb0GaGleR8i15XWEqL5VFIIJ87V5u70nvrm+AUF0/8nx4ZlxgOj+9KeTk+Oz8/rrYnIYBAoWeNSj9qwWS/T9vUU9j2EAAAAASUVORK5CYII="},90830:function(e,t,i){i.d(t,{bm:function(){return l},cb:function(){return c},d2:function(){return a},fv:function(){return s},kw:function(){return p},sI:function(){return d}});var n=i(85893),o=i(67294),r=i(964);let l=(0,o.memo)(()=>(0,n.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M0 22v-6h6v6H0zm2-4v2h2v-2H2zm-2-4V8h6v6H0zm2-4v2h2v-2H2zM0 6V0h6v6H0zm2-4v2h2V2H2zm8 10v-2h18v2H10zm14 6v2H10v-2h14zM10 2h22v2H10V2zM0 30v-6h6v6H0zm2-4v2h2v-2H2zm8 2v-2h18v2H10z"})})),s=(0,o.memo)(()=>(0,n.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M32 10H0V8h32v2zm0 16H0v-2h32v2zm0-8.016H0V16h32v1.984z"})})),a=(0,o.memo)(()=>(0,n.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M28 8.578V32H2V0h17.422zM20 8h4.578L20 3.422V8zm6 22V10h-8V2H4v28h22z"})})),c=(0,o.memo)(()=>{let{colors:e}=(0,r.Fg)();return(0,n.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M17 16h-2V0h2v16zm3.313-11.312q2.156.688 3.945 2t3.063 3.078 1.977 3.875.703 4.359q0 1.938-.5 3.727t-1.414 3.344-2.188 2.828-2.828 2.188-3.344 1.414-3.727.5-3.727-.5-3.344-1.414-2.828-2.188-2.188-2.828-1.414-3.344-.5-3.727q0-2.25.703-4.359t1.977-3.875 3.063-3.078 3.945-2l.625 1.891q-1.859.609-3.391 1.734t-2.625 2.625-1.695 3.305-.602 3.758q0 1.656.43 3.188t1.211 2.867 1.875 2.43 2.43 1.875 2.867 1.211 3.188.43 3.188-.43 2.867-1.211 2.43-1.875 1.875-2.43 1.211-2.867.43-3.188q0-1.953-.602-3.758t-1.695-3.305-2.625-2.625-3.391-1.734z",stroke:e.text,strokeWidth:"1"})})}),d=(0,o.memo)(()=>(0,n.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M32 4v24H0V4h32zM2 6v10.578l7-6.984 10 10 4-4 7 6.984V6H2zm0 20h20.578L9 12.406l-7 7.016V26zm28 0v-.578l-7-7.016L20.406 21l5.016 5H30zm-5-14q-.406 0-.703-.297T24 11t.297-.703T25 10t.703.297T26 11t-.297.703T25 12z"})})),p=(0,o.memo)(()=>(0,n.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"m32 24.125-8-4V24H0V8h24v3.875l8-4v16.25zM22 10H2v12h20V10zm8 1.109-6 3.016v3.75l6 3.016V11.11z"})}))},26323:function(e,t,i){i.d(t,{A4:function(){return a},VD:function(){return c},r5:function(){return d}});var n=i(1864),o=i(16728),r=i(91410),l=i(26550),s=i(27972);let a=async(e,t,i)=>{if(!e)return;let{subIcons:o,icon:a,pid:c=l.yV[0],url:d}=await new Promise(i=>{e.lstat(t,(n,o)=>{let l=!n&&!!o&&o.isDirectory(),a=(0,s.RT)(t);a&&!l?(0,r.Z7)(e,t,a,e=>i(e)):(0,r.g7)(e,e.getRootFS(),t,l,!1,e=>i(e),!1)})});if(null==i?void 0:i.aborted)return;let p=(0,s.yk)(d);return{icon:await (0,r.kv)(e,(0,n.join)(p?l.Rm:l.Xo,`${p?new URL(d).pathname.replace("/",""):d}${l.Qy}`))||a,pid:c,subIcons:(null==o?void 0:o.includes(l.EV))?o:[],url:d||t}},c=(e,t)=>{var i,n;null===(n=Object.getOwnPropertyDescriptor(e.__proto__,"value"))||void 0===n||null===(i=n.set)||void 0===i||i.call(e,t),e.dispatchEvent(new Event("input",{bubbles:!0}))},d=(e,t,i,n,r)=>{var l;return r?"Nostr URI":n?"App":i?"YouTube Video":(null==e?void 0:e.isDirectory())||!t?"File folder":(null===(l=o.Z[t])||void 0===l?void 0:l.type)||`${t.toUpperCase().replace(".","")} File`}},18075:function(e,t,i){i.r(t),i.d(t,{NO_RESULTS:function(){return Y},SINGLE_LINE_HEIGHT_ADDITION:function(){return F},default:function(){return J}});var n=i(85893),o=i(1864),r=i(964),l=i(67294),s=i(18030),a=i(71978),c=i(91410),d=i(90830),p=i(291),h=i(34789),u=i(26550);let x=(0,r.iv)(["@supports not selector(::-webkit-scrollbar){scrollbar-width:thin;}&::-webkit-scrollbar{width:","px;}"],u.H$);var g=i(40850);let v=r.ZP.div.withConfig({componentId:"sc-5db2ce2b-0"})([""," "," background-color:rgba(20,20,20,95%);border:8px solid rgba(30,30,30,95%);border-bottom:none;box-sizing:content-box;display:flex;flex-direction:column;overflow-x:hidden;padding-top:20px;place-items:center;position:relative;scrollbar-gutter:auto;width:100%;picture{padding-bottom:18px;&:not(:first-of-type){position:absolute;img{height:64px;max-height:64px;max-width:64px;min-height:64px;min-width:64px;position:relative;width:64px;}}}h1{font-size:15px;font-weight:400;padding-bottom:7px;padding-left:12px;padding-right:12px;word-break:break-all;&:hover{text-decoration:underline;}}h2{font-size:13px;font-weight:300;}table{border-collapse:collapse;border-top:2px solid rgb(161,161,161);display:grid;font-size:12px;gap:10px;margin-top:15px;padding:15px 0;padding-bottom:0;width:100%;th{max-width:100px;min-width:100px;padding:10px;text-align:left;white-space:nowrap;width:100px;}td{color:rgb(208,208,208);padding-right:5px;word-break:break-all;}tr:first-child{td{text-decoration:underline;&:hover{color:#fff;}}}}ol{border-top:2px solid rgb(161,161,161);margin-bottom:7px;margin-top:15px;padding:10px 0;width:100%;li{button{color:#fff;display:flex;font-size:12px;padding:8px 18px;place-items:start;svg{fill:#fff;height:16px;margin-right:12px;width:16px;}}&:hover{background-color:rgb(42,42,42);}}}.back{border-radius:50%;display:flex;height:32px;left:6px;place-content:center;place-items:center;position:absolute;top:6px;width:32px;svg{fill:#fff;height:18px;margin-right:2px;transform:scaleX(-1);width:18px;}&:hover{background-color:rgba(255,255,255,20%);}}"],(0,g.Z)(u.H$,-2,-1),x);var f=i(26323),m=i(59140),w=i(12691),b=i(54776),j=i(8597),z=i(27972),y=i(31802),k=({openApp:e,setActiveItem:t,singleLineView:i,url:r})=>{let{fs:s,stat:a}=(0,m.o)(),[d,x]=(0,l.useState)(),[g,k]=(0,l.useState)({icon:p.UNKNOWN_ICON}),A=(0,o.extname)((null==g?void 0:g.url)||r),{updateRecentFiles:S}=(0,w.k)(),C=(0,l.useCallback)(()=>{e(null==g?void 0:g.pid,{url:null==g?void 0:g.url}),(null==g?void 0:g.url)&&(null==g?void 0:g.pid)&&S(null==g?void 0:g.url,null==g?void 0:g.pid)},[null==g?void 0:g.pid,null==g?void 0:g.url,e,S]),I=(0,l.useRef)(null),T=null!=g&&!!g.url&&(0,z.yk)(g.url),V=null!=g&&!!g.url&&g.url.startsWith("nostr:"),Z=null!=g&&!!g.pid&&r===g.url&&(0,o.extname)(r)===u.zm,E=(null==d?void 0:d.isDirectory())||!A&&!T&&!V,H=T||V?r:null==g?void 0:g.url,N=(0,l.useRef)(r),M="/"===H?u.SP:H?(0,o.basename)(H,u.zm):"";return(0,l.useEffect)(()=>{a(r).then(e=>N.current===r&&x(e)),(0,f.A4)(s,r).then(e=>e&&N.current===r&&k(e))},[s,a,r]),(0,l.useEffect)(()=>{var e;null===(e=I.current)||void 0===e||e.scrollTo({behavior:"smooth",top:0}),N.current=r},[r]),(null==g?void 0:g.url)&&d?(0,n.jsxs)(v,{ref:I,children:[i&&(0,n.jsx)("div",{className:"back",onClick:()=>t(""),children:(0,n.jsx)(h.UV,{})}),(0,n.jsx)(j.Z,{displaySize:64,imgSize:96,src:null==g?void 0:g.icon}),(0,n.jsx)(y.Z,{icon:null==g?void 0:g.icon,imgSize:64,name:M,showShortcutIcon:!1,subIcons:null==g?void 0:g.subIcons,view:"icon"}),(0,n.jsx)("h1",{onClick:C,children:M}),(0,n.jsx)("h2",{children:(0,f.r5)(d,A,T,Z,V)}),!Z&&(null==g?void 0:g.url)&&(0,n.jsx)("table",{children:(0,n.jsxs)("tbody",{children:[(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Location"}),(0,n.jsx)("td",{onClick:C,children:g.url})]}),!T&&!V&&!E&&(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Last modified"}),(0,n.jsx)("td",{children:new Date((0,c.GA)(g.url,d)).toLocaleString(u.ZW)})]})]})}),(0,n.jsxs)("ol",{children:[(0,n.jsx)("li",{children:(0,n.jsxs)(b.Z,{onClick:C,children:[(0,n.jsx)(h.UY,{}),"Open"]})}),"."!==(0,o.dirname)(H)&&(0,n.jsx)("li",{children:(0,n.jsxs)(b.Z,{onClick:()=>e("FileExplorer",{url:(0,o.dirname)(H)}),children:[(0,n.jsx)(h.WQ,{}),"Open ",E?"folder":"file"," location"]})})]})]}):(0,n.jsx)(n.Fragment,{children:" "})},A=i(88900),S=i(78743),C=e=>{let{contextMenu:t}=(0,A.H)(),{open:i}=(0,S.z)();return(0,l.useMemo)(()=>null==t?void 0:t(()=>[{SvgIcon:h.WQ,action:()=>i("FileExplorer",{url:(0,o.dirname)(e)},""),label:"Open file location"}]),[t,i,e])},I=i(22389);let T={icon:p.UNKNOWN_ICON};var V=({active:e,details:t,openApp:i,searchTerm:r,setActiveItem:s,url:a})=>{let{fs:d,readFile:p,stat:x}=(0,m.o)(),{updateRecentFiles:g}=(0,w.k)(),[v,b]=(0,l.useState)(),[k,A]=(0,l.useState)(T),S=(0,o.extname)((null==k?void 0:k.url)||a),V=(0,o.basename)(a,u.zm),Z=(0,l.useMemo)(()=>{let e=V;try{e=e.replace(RegExp(`(${r})`,"i"),"<span>$1</span>")}catch{}return e},[V,r]),E=null!=k&&!!k.url&&(0,z.yk)(k.url),H=E?a:a||(null==k?void 0:k.url),N=(0,l.useMemo)(()=>v&&!v.isDirectory()?`Last modified: ${new Date((0,c.GA)(H,v)).toLocaleString(u.ZW,{dateStyle:"short",timeStyle:"short"})}`:"",[H,v]),[M,O]=(0,l.useState)(!1),R=(0,l.useRef)(null),L=(0,I.O)(R,".list"),B=null!=k&&!!k.pid&&a===k.url&&(0,o.extname)(a)===u.zm,D=(null==v?void 0:v.isDirectory())||!S&&!E,P=null!=k&&!!k.url&&k.url.startsWith("nostr:"),{onContextMenuCapture:$}=C(null==k?void 0:k.url),W=(0,l.useRef)();return(0,l.useEffect)(()=>{let e=t||M;!v&&e&&x(a).then(b),W.current?L||(W.current.abort(),W.current=void 0):(e||L)&&k===T&&(W.current=new AbortController,(0,f.A4)(d,a,W.current.signal).then(e=>{e&&A(e),W.current=void 0}))},[t,d,M,k,L,x,v,a]),(0,l.useEffect)(()=>()=>{try{var e;null===(e=W.current)||void 0===e||e.abort()}catch{}},[]),(0,n.jsxs)("li",{ref:R,"aria-label":V,className:e?"active-item":void 0,onMouseOver:()=>!t&&O(!0),title:N?`${H}

${N}`:H,children:[(0,n.jsxs)("figure",{className:t?void 0:"simple",onClick:async()=>{var e;i(null==k?void 0:k.pid,B?void 0:{url:(0,o.extname)(H)===u.zm&&(null===(e=(0,c.OE)(await p(H)))||void 0===e?void 0:e.url)||H}),H&&(null==k?void 0:k.pid)&&g(H,null==k?void 0:k.pid)},onContextMenuCapture:E||P||B||D?void 0:$,children:[(0,n.jsx)(j.Z,{displaySize:t?32:16,imgSize:t?32:16,src:null==k?void 0:k.icon}),(0,n.jsx)(y.Z,{icon:null==k?void 0:k.icon,imgSize:t?32:16,name:Z,showShortcutIcon:!1,subIcons:null==k?void 0:k.subIcons,view:"icon"}),(0,n.jsxs)("figcaption",{children:[(0,n.jsx)("h1",{dangerouslySetInnerHTML:{__html:Z}}),t&&v&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h2",{children:(0,f.r5)(v,S,E,B,P)}),!E&&!B&&!D&&(0,n.jsx)("h2",{children:N})]})]})]}),!e&&(0,n.jsx)("div",{className:"select",onClick:()=>s(a),children:(0,n.jsx)(h.UV,{})})]})};let Z=r.ZP.figcaption.withConfig({componentId:"sc-4226e485-0"})(["font-size:13px;font-weight:600;padding-bottom:8px;padding-left:12px;padding-top:7px;&.disabled{pointer-events:none;user-select:none;}&:hover{background-color:rgba(60,60,60,95%);}"]);var E=({activeTab:e,activeItem:t,details:i,openApp:o,results:r,searchTerm:s,setActiveItem:c,changeTab:d,title:p})=>{let h=(0,l.useMemo)(()=>1===r.length&&r[0].ref===Y,[r]);return 0===r.length?(0,n.jsx)(n.Fragment,{}):(0,n.jsxs)("figure",{children:[(0,n.jsx)(Z,{className:e===p||"Best match"===p?"disabled":void 0,onClick:()=>null==d?void 0:d(p),children:p}),(0,n.jsx)("ol",{children:h?(0,n.jsxs)("li",{className:"no-results",children:[(0,n.jsx)(a.Search,{}),"No results found for '",s,"'"]}):r.map(({ref:e})=>(0,n.jsx)(V,{active:t===e,details:i,openApp:o,searchTerm:s,setActiveItem:c,url:e},e))})]})};let H=r.ZP.figure.withConfig({componentId:"sc-2addad56-0"})(["ol{display:flex;flex-flow:row wrap;gap:5px;max-height:97px;overflow-y:hidden;padding-top:9px;li{background-color:rgba(60,60,60,85%);border:1px solid rgba(75,75,75,85%);border-radius:15px;display:flex;padding:4px 10px;place-content:center;place-items:center;white-space:nowrap;h2{bottom:1px;display:block;font-size:12px;font-weight:400;height:16px;max-width:235px;overflow:hidden;padding-top:1px;place-items:center;position:relative;text-overflow:ellipsis;}picture,img{height:16px;margin-right:5px;width:16px;}&:hover{background-color:rgba(80,80,80,85%);}}}"]),N=r.ZP.div.withConfig({componentId:"sc-da95d2e8-0"})(["color:#fff;display:flex;height:calc(100% - 52px);width:100%;.list{"," "," background-color:rgba(40,40,40,95%);overflow-y:auto;scrollbar-gutter:auto;width:100%;li{&.active-item{background-color:rgba(30,80,115,75%);}position:relative;figure{display:flex;padding:12px;padding-right:32px;picture,img{height:32px;max-height:32px;max-width:32px;min-height:32px;min-width:32px;width:32px;}figcaption{font-size:8px;margin-top:-2px;max-width:calc(100% - 26px);padding-left:8px;h1{font-size:14.5px;font-weight:400;overflow:hidden;padding-right:12px;text-overflow:ellipsis;span{font-weight:600;}}h2{font-size:13px;font-weight:300;padding-top:6px;}}&.simple{padding:10px;picture,img{height:16px;max-height:16px;max-width:16px;min-height:16px;min-width:16px;width:16px;}figcaption{h1{font-size:14px;font-weight:300;white-space:nowrap;}}}picture:not(:first-child){position:absolute;img{position:absolute;}}}div.select{border-left:1px solid transparent;display:flex;height:100%;place-content:center;place-items:center;position:absolute;right:0;top:0;width:26px;svg{fill:#fff;height:16px;width:16px;}}&:hover{background-color:rgba(100,100,100,95%);div.select{background-color:rgba(60,60,60,95%);border-left:1px solid rgba(40,40,40,95%);}figure{&:not(:hover){background-color:rgba(60,60,60,95%);}}&.active-item{background-color:rgba(16,88,145,95%);}}div.select:hover{background-color:rgba(100,100,100,95%);}}}"],(0,g.Z)(u.H$,-2,-1),x);var M=i(14330);let O=(0,r.ZP)(s.m.nav).withConfig({componentId:"sc-4e0932f0-0"})([""," @keyframes fade-in{0%{opacity:0%;}100%{opacity:100%;}}.search{width:100%;input{appearance:none;border:2px solid rgb(0,120,215);border-radius:0;color:#000;font-size:15px;height:40px;padding:10px;padding-left:37px;width:100%;&::placeholder{color:#000;inset:0;left:37px;opacity:100%;overflow:visible;}&::-webkit-search-cancel-button{margin:0 0 0 8px;}}svg{bottom:12px;height:16px;left:12px;position:absolute;width:16px;z-index:2;}}.content{animation:fade-in 0.85s;height:calc(100% - 40px);.no-results{display:flex;font-size:14px;font-weight:300;padding:5px 15px;place-items:center;pointer-events:none;user-select:none;svg{fill:#fff;height:32px;margin-right:12px;width:32px;}}.tab{color:rgb(175,175,175);display:flex;flex-direction:column;height:calc(100% - 52px);place-content:center;place-items:center;h1{font-size:28px;font-weight:400;padding-top:14px;}h3{font-size:14px;font-weight:400;padding-top:8px;}svg{fill:rgb(115,115,115);height:128px;width:128px;}}> nav{position:absolute;right:25px;top:15px;.close-button svg{fill:rgb(200,200,200);height:14px;&:hover{fill:#fff;}}}}> div{display:flex;flex-direction:column;height:100%;width:100%;}"],({$singleLine:e,theme:t})=>(0,M.Z)(t.sizes.search.maxHeight+(e?F:0),t.sizes.search.size,t.sizes.taskbar.button.width,!0)),R=r.ZP.div.withConfig({componentId:"sc-c5d9b2dc-0"})([""," "," color:#fff;display:flex;height:calc(100% - 52px);overflow:hidden;place-content:space-evenly;place-items:start;@media (hover:none),(pointer:coarse){overflow-y:scroll;}@supports (not (scrollbar-gutter:stable)){margin-right:","px;@supports not selector(::-webkit-scrollbar){margin-right:8px;}@media (hover:hover){&:hover{margin-right:0;}}&:hover{overflow-y:scroll;}}@supports (scrollbar-gutter:stable){&:hover{overflow-y:auto;}}figcaption{font-size:13px;font-weight:600;svg{fill:#fff;height:16px;margin-bottom:-3px;margin-right:6px;width:16px;}}figure.card{background-color:rgba(45,45,45,60%);border-radius:5px;padding:8px 12px;&:hover{box-shadow:0 3px 6px rgba(0,0,0,40%);}> figcaption{padding-left:2px;white-space:nowrap;}ol{display:flex;gap:9px;margin-top:10px;place-content:space-between;li{display:flex;flex-direction:column;max-width:80px;min-width:80px;text-align:left;img{background-color:rgba(60,60,60,85%);border-radius:5px;margin-bottom:4px;min-height:80px;min-width:80px;padding:12px;pointer-events:all;user-select:all;&:hover{background-color:rgba(16,88,145,85%);}}h4{font-size:11px;font-weight:400;padding-left:2px;}&:hover{h4{text-decoration:underline;}}}}}section{display:flex;flex-direction:column;gap:16px;padding:20px 10px 20px 24px;width:100%;&:first-child{padding-bottom:",";}}&.single-line{flex-direction:column;place-content:flex-start;figure.card{width:min-content;ol{gap:16px;}}section{padding-right:24px;&:not(:first-child){padding-top:16px;}}}"],(0,g.Z)(u.H$,-2,-1),x,u.H$,({$singleLine:e})=>e?0:void 0),L=r.ZP.ol.withConfig({componentId:"sc-c9388d2c-0"})(['display:grid;padding:9px 0 0;li{border-radius:5px;display:flex;flex-direction:column;height:51px;place-items:start;position:relative;width:100%;figure{display:flex;padding:9px 16px;place-items:center;position:relative;top:1px;figcaption{font-size:15px;font-weight:400;padding-left:12px;white-space:nowrap;}}&::before{border-top:1px solid rgba(80,80,80,55%);content:"";height:100%;position:absolute;width:100%;}&:first-child{&::before{border-top:none;}}&:hover{background-color:rgba(80,80,80,75%);&::before{border:none;}+ li{&::before{border-top:none;}}}}']),B=r.ZP.ol.withConfig({componentId:"sc-931929c9-0"})(["border-bottom:1px solid hsla(0,0%,13%,40%);color:#fff;display:flex;font-size:12px;font-weight:600;gap:1px;padding:2px 13px 0;li{color:rgb(215,215,215);padding:15px 13px 14px;&.active{border-bottom:4px solid rgb(0,120,215);color:#fff;}&:hover{color:#fff;}}"]);var D=()=>({animate:"active",exit:{bottom:"-40px",position:"absolute",transition:{duration:u.Nb.TASKBAR_ITEM/10,ease:"easeIn"}},initial:"initial",transition:{duration:u.Nb.TASKBAR_ITEM/1,ease:"easeOut"},variants:{active:{bottom:0,position:"absolute"},initial:{bottom:"-40px",position:"absolute"}}}),P=i(42486),$=i(19788),W=i(86313),q=i(80164),K=i(28272),U=i(14012);let _=["All","Documents","Photos","Videos"],F=34,Y="NO_RESULTS",G=["FileExplorer","Terminal","Messenger","Browser","Paint"],X=["SpaceCadet","Quake3","DXBall"],Q={Documents:{icon:(0,n.jsx)(d.d2,{}),subtitle:"for documents",title:"Documents"},Photos:{icon:(0,n.jsx)(d.sI,{}),title:"Photos"},Videos:{icon:(0,n.jsx)(d.kw,{}),title:"Videos"}};var J=({toggleSearch:e})=>{var t;let i=(0,l.useRef)(null),d=(0,l.useRef)(null),{recentFiles:p,updateRecentFiles:x}=(0,w.k)(),{lstat:g,readFile:v}=(0,m.o)(),[f,y]=(0,l.useState)("All"),{sizes:{search:A}}=(0,r.Fg)(),[C,I]=(0,l.useState)(550),T=C<550,V=(0,W.Z)(A.maxHeight+(T?F:0),!0,.1,0),Z=D(),{height:M}=(null===(t=V.variants)||void 0===t?void 0:t.active)??{},[J,ee]=(0,l.useState)(!1),et=(0,l.useCallback)(e=>{null==e||e.focus(u.eS),setTimeout(()=>ee(!0),400),i.current=e},[]),[ei,en]=(0,l.useState)(""),eo=(0,U.Rx)(ei),[er,el]=(0,l.useState)(""),[es,ea]=(0,l.useState)(""),{open:ec}=(0,S.z)(),[ed,ep]=(0,l.useState)([]),eh=(0,l.useMemo)(()=>{var e;return"All"===f?eo[0]:null===(e=Object.fromEntries(ed)[f])||void 0===e?void 0:e[0]},[f,eo,ed]),eu=(0,l.useRef)(null),ex=(0,l.useCallback)(e=>{if(i.current){var t;i.current.value=("All"===e?i.current.value:`${e}: ${i.current.value}`).replace(`${f}: `,""),null===(t=eu.current)||void 0===t||t.scrollTo(0,0)}ea(""),y(e)},[f]),eg=(0,l.useCallback)((t,i)=>{e(!1),ec(t,i)},[ec,e]),ev=(0,l.useRef)(0),ef=(0,l.useRef)(!1),em=(0,l.useCallback)(()=>{ef.current||(ef.current=!0,(0,z.Q4)([U.VU,U.cM]))},[]);return(0,l.useEffect)(()=>{(null==eh?void 0:eh.ref)&&(!er||er!==(null==eh?void 0:eh.ref)||!es)?(el(eh.ref),d.current&&d.current.clientWidth>550&&ea(eh.ref)):!eh&&es&&ea("")},[es,er,eh]),(0,l.useEffect)(()=>{let e=()=>{var e;return I((null===(e=d.current)||void 0===e?void 0:e.clientWidth)||0)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,l.useEffect)(()=>{eo.length>1?eo.reduce(async(e,t)=>{let i=await e,n=(0,o.extname)(t.ref),r="";return n===u.zm?t.ref.startsWith(`${u.sC}/`)?r="Photos":t.ref.startsWith(`${u.hV}/`)?r="VideoPlayer":{pid:r}=(0,c.CK)(await g(t.ref))?(0,c.cC)(t.ref):(0,c.OE)(await v(t.ref)):r=(0,c.Wd)(n),"Photos"===r?i.Photos.push(t):"VideoPlayer"===r?i.Videos.push(t):i.Documents.push(t),i},Promise.resolve({Documents:[],Photos:[],Videos:[]})).then(e=>ep(Object.entries(e))):ep([])},[g,v,eo]),(0,n.jsxs)(O,{ref:d,$singleLine:T,id:"searchMenu",onBlurCapture:t=>(0,$.Oh)(t,d.current,e,i.current,$.Hr,!0),onKeyDown:({key:t})=>{"Escape"===t&&e(!1)},...V,...u.LL,children:[(0,n.jsx)(P.Z,{$height:M}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"content",onContextMenu:z.nK,children:[(0,n.jsx)(B,{children:_.filter(e=>!(C<325&&"Videos"===e)&&!(C<260&&"Photos"===e)).map(e=>(0,n.jsx)("li",{className:e===f?"active":void 0,onClick:()=>ex(e),...(0,z.PS)("All"===e?"Find the most relevant results on this PC":`Find results in ${e}`),children:e},e))}),(0,n.jsx)("nav",{children:(0,n.jsx)(b.Z,{className:"close-button",onClick:()=>e(!1),...(0,z.PS)("Close Search"),children:(0,n.jsx)(q.Tw,{})})}),!ei&&"All"===f&&(0,n.jsxs)(R,{$singleLine:T,className:T?"single-line":void 0,children:[(0,n.jsx)("section",{children:(0,n.jsxs)("figure",{children:[(0,n.jsx)("figcaption",{children:"Suggested"}),(0,n.jsx)(L,{children:G.map(e=>(0,n.jsx)("li",{onClick:()=>eg(e),title:K.Z[e].title,children:(0,n.jsxs)("figure",{children:[(0,n.jsx)(j.Z,{displaySize:32,imgSize:32,src:K.Z[e].icon}),(0,n.jsx)("figcaption",{children:K.Z[e].title})]})},e))})]})}),(0,n.jsxs)("section",{children:[p.length>0&&(0,n.jsxs)(H,{children:[(0,n.jsx)("figcaption",{children:"Recent"}),(0,n.jsx)("ol",{children:p.map(([e,t,i],r)=>{var l;return(0,n.jsxs)("li",{onClick:()=>{eg(t,{url:e}),0!==r&&setTimeout(()=>x(e,t,i),u.Nb.TASKBAR_ITEM*u.i2)},children:[(0,n.jsx)(j.Z,{displaySize:16,imgSize:16,src:null===(l=K.Z[t])||void 0===l?void 0:l.icon}),(0,n.jsx)("h2",{children:i||(0,o.basename)(e,(0,o.extname)(e))})]},`${e}${t}`)})})]}),(0,n.jsxs)("figure",{className:"card",children:[(0,n.jsxs)("figcaption",{children:[(0,n.jsx)(h.Ox,{}),"Games for you"]}),(0,n.jsx)("ol",{children:X.filter(e=>!(C<360&&"Quake3"===e)&&!(C<260&&"SpaceCadet"===e)).map(e=>K.Z[e]&&(0,n.jsxs)("li",{onClick:()=>eg(e),title:K.Z[e].title,children:[(0,n.jsx)(j.Z,{displaySize:56,imgSize:96,src:K.Z[e].icon}),(0,n.jsx)("h4",{children:K.Z[e].title})]},e))})]})]})]}),!ei&&"All"!==f&&(0,n.jsxs)("div",{className:"tab",children:[Q[f].icon,(0,n.jsxs)("h1",{children:["Search ",Q[f].title.toLowerCase()]}),(0,n.jsxs)("h3",{children:["Start typing to search"," ",Q[f].subtitle||Q[f].title.toLowerCase()]})]}),ei&&(0,n.jsxs)(N,{children:[(!T||!es)&&(0,n.jsxs)("div",{ref:eu,className:"list",children:[(0,n.jsx)(E,{activeItem:es,activeTab:f,openApp:eg,results:[eh||{ref:Y}],searchTerm:ei,setActiveItem:ea,title:"Best match",details:!0}),eo.length>1&&ed.map(([e,t])=>("All"===f||f===e)&&(0,n.jsx)(E,{activeItem:es,activeTab:f,changeTab:ex,openApp:eg,results:t.filter(e=>eh!==e),searchTerm:ei,setActiveItem:ea,title:e},e))]}),es&&eh&&(0,n.jsx)(k,{openApp:eg,setActiveItem:ea,singleLineView:T,url:es||(null==eh?void 0:eh.ref)})]})]}),(0,n.jsxs)(s.m.div,{className:"search",...Z,children:[(0,n.jsx)(a.Search,{}),(0,n.jsx)("input",{ref:et,onChange:()=>{var e,t,n;let o="All"===f?"":`${f}: `,r=(null===(e=i.current)||void 0===e?void 0:e.value.startsWith(o))?null===(t=i.current)||void 0===t?void 0:t.value.replace(o,""):null===(n=i.current)||void 0===n?void 0:n.value;window.clearTimeout(ev.current),ev.current=window.setTimeout(()=>en(r??""),ev.current>0?u._2:0)},onClick:ef.current?void 0:em,onKeyDown:({key:e})=>{if(em(),"Enter"===e&&(null==eh?void 0:eh.ref)){var t;let e=null===(t=d.current)||void 0===t?void 0:t.querySelector(".list li:first-child figure");null==e||e.click()}},placeholder:"Type here to search",style:{caretColor:J?void 0:"transparent"},...U.hZ})]})]})]})}},42486:function(e,t,i){let n=i(964).ZP.span.withConfig({componentId:"sc-a718d402-0"})(["backdrop-filter:blur(12px);height:",";inset:0;position:absolute;width:100%;z-index:-1;"],({$height:e})=>e);t.Z=n},14330:function(e,t,i){var n=i(964),o=i(26550);t.Z=(e,t,i=0,r=!1)=>(0,n.iv)(["background-color:hsla(0,0%,13%,95%);border:",";border-bottom-width:0;bottom:","px;box-shadow:3px 0 10px 3px hsla(0,0%,10%,50%);contain:strict;display:flex;height:100%;left:","px;max-height:","px;max-width:","px;position:absolute;width:calc(100% - ","px);z-index:10000;@supports ((-webkit-backdrop-filter:none) or (backdrop-filter:none)){background-color:hsla(0,0%,13%,70%);}"],r?"1px solid hsla(0, 0%, 25%, 75%)":"none",o.bK,i,e,t,i)},86313:function(e,t,i){var n=i(26550),o=i(27972);t.Z=(e,t=!0,i=.5,r=.75)=>{let l=Math.min(e,(0,o.sI)()-n.bK);return{animate:"active",exit:{height:`${l*r}px`,transition:{duration:n.Nb.TASKBAR_ITEM/10,ease:"circIn"}},initial:"initial",transition:{duration:n.Nb.TASKBAR_ITEM,ease:"circOut"},variants:{active:{height:`${l}px`,paddingTop:0},initial:{height:`${l*r}px`,paddingTop:t?`${l*i}px`:0}}}}},80164:function(e,t,i){i.d(t,{J6:function(){return s},Tw:function(){return a},bJ:function(){return l},dO:function(){return r}});var n=i(85893),o=i(67294);let r=(0,o.memo)(()=>(0,n.jsx)("svg",{viewBox:"0 0 10 1",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M0 0h10v1H0z"})})),l=(0,o.memo)(()=>(0,n.jsx)("svg",{viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M0 0v10h10V0H0zm1 1h8v8H1V1z"})})),s=(0,o.memo)(()=>(0,n.jsx)("svg",{viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M2.1 0v2H0v8.1h8.2v-2h2V0H2.1zm5.1 9.2H1.1V3h6.1v6.2zm2-2.1h-1V2H3.1V1h6.1v6.1z"})})),a=(0,o.memo)(()=>(0,n.jsx)("svg",{viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M10.2.7L9.5 0 5.1 4.4.7 0 0 .7l4.4 4.4L0 9.5l.7.7 4.4-4.4 4.4 4.4.7-.7-4.4-4.4z"})}))},14012:function(e,t,i){i.d(t,{cM:function(){return c},hZ:function(){return p},VU:function(){return d},Kk:function(){return v},Rx:function(){return f}});var n=i(1864),o=i(67294),r=i(59140),l=JSON.parse('{"I":[".cache",".json"],"K":[".md",".txt",".whtml"]}'),s=i(26550),a=i(27972);let c="/.index/search.lunr.json",d="/System/lunr/lunr.min.js",p={autoComplete:"off",autoCorrect:"off",enterKeyHint:"search",inputMode:"search",spellCheck:!1,type:"search"},h=Object.create(null),u=[],x=async(e,t)=>{var i,n,o;if(window.lunr||await (0,a.mb)([d]),!t&&!(null==h?void 0:h.search)){let e=await fetch(c,s.P8);try{let{paths:t,...n}=JSON.parse(await e.text());h=null===(i=window.lunr)||void 0===i?void 0:i.Index.load(n),u=t}catch{}}let r=t??h,l=[],p=e.trim().replace(/\./g," ").replace(/\*~\^-\+/g,"");try{(null==(l=null===(n=r.search)||void 0===n?void 0:n.call(r,p))?void 0:l.length)===0&&(l=null===(o=r.search)||void 0===o?void 0:o.call(r,`${p.split(" ").join("* ")}*`))}catch{}return l?l.map(e=>({...e,ref:(e.ref in u?u[e.ref]:e.ref)||""})):[]},g=async(e,t)=>{var i,o,r,s,c,d,p;let h=null==t?void 0:null===(i=t._getFs("/"))||void 0===i?void 0:i.fs,u=null==h?void 0:h.getOverlayedFileSystems(),x=null==u?void 0:u.writable,g=("function"==typeof(null==x?void 0:null===(r=x._cache)||void 0===r?void 0:null===(o=r.map)||void 0===o?void 0:o.keys)&&[...x._cache.map.keys()]||Object.keys((null==x?void 0:null===(s=x._cache)||void 0===s?void 0:s.map)||{})||[]).filter(e=>{let t=(0,a.RT)(e);return!!t&&!l.I.includes(t)}),v=await Promise.all(g.map(async t=>{let i=(0,n.basename)(t,(0,n.extname)(t));return{name:i,path:t,text:l.K.includes((0,a.RT)(t))?`${i} ${(await e(t)).toString()}`:i}})),f=null===(c=(d=window).lunr)||void 0===c?void 0:c.call(d,function(){this.ref("path"),this.field("name"),this.field("text"),v.forEach(e=>this.add(e))});return null===(p=window.lunr)||void 0===p?void 0:p.Index.load(f.toJSON())},v=async(e,t,i)=>{let n=await x(e),o=await g(t,i);return[...n,...await x(e,o)].sort((e,t)=>t.score-e.score)},f=e=>{let[t,i]=(0,o.useState)([]),{readFile:n,rootFs:l}=(0,r.o)();return(0,o.useEffect)(()=>{(async()=>{e.length>0?(window.lunr||await (0,a.mb)([d]),x(e).then(i),g(n,l).then(t=>x(e,t).then(e=>i(t=>[...t,...e].sort((e,t)=>t.score-e.score))))):i([])})()},[n,l,e]),t}}}]);