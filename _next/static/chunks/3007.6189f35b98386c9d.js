"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3007],{53007:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var l=n(85893);let a=n(964).ZP.div.withConfig({componentId:"sc-1e4b8b1d-0"})(['height:100%;width:100%;&.drop{&::before{color:#ffad33;content:"Drop SWF/SPL file here";display:flex;font-size:16px;font-weight:600;height:100%;left:0;place-content:center;place-items:center;position:absolute;top:0;width:100%;}}ruffle-player{height:100%;width:100%;}']);var r=n(1864),i=n(67294),o=n(34772),s=n(59140),u=n(78743),c=n(27972),f=({containerRef:e,id:t,setLoading:n,url:l})=>{let{linkElement:a,processes:{[t]:{libs:f=[]}={}}={}}=(0,u.z)(),[d,p]=(0,i.useState)(),{appendFileToTitle:m}=(0,o.Z)(t),{readFile:h}=(0,s.o)(),v=(0,i.useCallback)(async()=>{var t;null===(t=e.current)||void 0===t||t.classList.remove("drop");try{await (null==d?void 0:d.load({data:await h(l)}))}catch{}finally{n(!1)}m((0,r.basename)(l,(0,r.extname)(l)))},[m,e,d,h,n,l]);(0,i.useEffect)(()=>{(0,c.mb)(f).then(()=>{if(window.RufflePlayer&&(window.RufflePlayer.config={allowScriptAccess:!1,autoplay:"on",backgroundColor:"#000000",letterbox:"on",polyfills:!1,preloader:!1,unmuteOverlay:"hidden"},p(window.RufflePlayer.newest().createPlayer()),!l)){var t;null===(t=e.current)||void 0===t||t.classList.add("drop"),n(!1)}})},[e,f,n,l]),(0,i.useEffect)(()=>(e.current&&d&&(e.current.append(d),a(t,"peekElement",d)),()=>null==d?void 0:d.remove()),[e,t,a,d]),(0,i.useEffect)(()=>{e.current&&d&&l&&v()},[e,v,d,l])},d=n(50834),p=({id:e})=>(0,l.jsx)(d.Z,{StyledComponent:a,id:e,useHook:f})},50834:function(e,t,n){var l=n(85893),a=n(5152),r=n.n(a),i=n(67294),o=n(54944),s=n(78743);let u=r()(()=>n.e(446).then(n.bind(n,60446)),{loadableGenerated:{webpack:()=>[60446]}});t.Z=(0,i.memo)(({id:e,useHook:t,StyledComponent:n,children:a})=>{let{processes:{[e]:{url:r=""}={}}}=(0,s.z)(),c=(0,i.useRef)(null),[f,d]=(0,i.useState)(!0),p=(0,i.useMemo)(()=>({contain:"strict",visibility:f?"hidden":"visible"}),[f]);return t({containerRef:c,id:e,loading:f,setLoading:d,url:r}),(0,l.jsxs)(l.Fragment,{children:[f&&(0,l.jsx)(u,{}),(0,l.jsx)(n,{ref:c,style:p,...(0,o.Z)({id:e}),children:a})]})})},54944:function(e,t,n){var l=n(1864),a=n(67294),r=n(46013),i=n(36094),o=n(41893),s=n(59140),u=n(78743),c=n(12691),f=n(26550),d=n(27972);t.Z=({callback:e,directory:t=f.Ll,id:n,onDragLeave:p,onDragOver:m,updatePositions:h})=>{let{url:v}=(0,u.z)(),{iconPositions:b,sortOrders:y,setIconPositions:w}=(0,c.k)(),{mkdirRecursive:$,updateFolder:g,writeFile:k}=(0,s.o)(),x=(0,a.useCallback)(async(e,t,a)=>{if(n){if(t){let r=(0,l.join)(f.Ll,e);if(await $(f.Ll),await k(r,t,!0))return a===o.v.UPDATE_URL&&v(n,r),g(f.Ll,e),(0,l.basename)(r)}else a===o.v.UPDATE_URL&&v(n,e)}return""},[n,$,g,v,k]),{openTransferDialog:C}=(0,r.Z)();return{onDragLeave:p,onDragOver:e=>{null==m||m(e),(0,d.nK)(e)},onDrop:a=>{if(!f.my.has((0,d.RT)(t))){if(h&&a.target instanceof HTMLElement){let{files:e,text:n}=(0,i.p4)(a);if(0===e.length&&""===n)return;let r={x:a.clientX,y:a.clientY},o=[];if(n){try{o=JSON.parse(n)}catch{}if(!Array.isArray(o))return;let[e]=o;if(!e||e.startsWith(t)&&(0,l.basename)(e)===(0,l.relative)(t,e))return;o=o.map(e=>(0,l.basename)(e))}else o=e instanceof FileList?[...e].map(e=>e.name):[...e].map(e=>{var t;return(null===(t=e.getAsFile())||void 0===t?void 0:t.name)||""}).filter(Boolean);o=o.map(e=>{if(!b[`${t}/${e}`])return e;let n=0,a="";do n+=1,a=`${t}/${(0,l.basename)(e,(0,l.extname)(e))} (${n})${(0,l.extname)(e)}`;while(b[a]);return(0,l.basename)(a)}),(0,d.vi)(t,a.target,b,y,r,o,w)}(0,i.WG)(a,e||x,t,C,!!n)}}}}},34772:function(e,t,n){var l=n(67294),a=n(78743),r=n(28272),i=n(26550);t.Z=e=>{let{title:t}=(0,a.z)(),[n]=e.split(i.CC),{title:o}=r.Z[n]||{};return{appendFileToTitle:(0,l.useCallback)((n,l)=>{let a=n?` - ${n}${l?` ${i.xy}`:""}`:"";t(e,`${o}${a}`)},[e,o,t]),prependFileToTitle:(0,l.useCallback)((n,l,a)=>{let r=n?`${l?`${i.xy} `:""}${n}${a?" ":" - "}`:"";t(e,`${r}${o}`)},[e,o,t])}}}}]);