"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1611],{6434:function(e,t,n){n.d(t,{Fg:function(){return o},VT:function(){return l},Wt:function(){return r}});var i=n(26550);let o=e=>(null==e?void 0:e.mode.isReadOnly())||!(null==e?void 0:e.getContent()),r=(e,t)=>{var n;let o=null===(n=e.editorContainer)||void 0===n?void 0:n.querySelector(".tox-editor-header");o instanceof HTMLDivElement&&o.addEventListener("click",()=>{o.removeAttribute("title"),e.mode.set("design"),t()},i.K7),e.mode.set("readonly")},a=new Set(["wikipedia.org","archive.org"]),l=e=>{if(!e)return!1;try{let{hostname:t}=new URL(e),[,n,i]=t.split(".");return a.has(`${n}.${i}`)||a.has(t)}catch{return!1}}},81611:function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});var i=n(85893);let o=n(964).ZP.div.withConfig({componentId:"sc-3d35edf0-0"})(['height:100%;[role="application"]{border-radius:0;height:100% !important;button:disabled{pointer-events:none;}.tox-statusbar{font-size:12px;}&[aria-disabled="true"]{.tox-editor-header{height:0;margin-top:-1px;overflow:hidden;padding:0;position:relative;visibility:hidden;&::after{bottom:0;color:rgb(200,200,200);content:"Edit Document";cursor:pointer;display:flex;font-size:12px;font-weight:600;height:24px;left:0;padding:0 10px;padding-bottom:2px;place-content:center;place-items:center;position:fixed;transform:translateZ(0);visibility:visible;width:auto;z-index:1;}&:hover::after{background-color:rgba(255,255,255,15%);}.tox-toolbar-overlord{display:none;}}.tox-statusbar__path-item{display:none;}}iframe{background-color:#202124;}}']);var r=n(1864),a=n(67294),l=n(26550);let d={base_url:"/Program Files/TinyMCE/",branding:!1,contextmenu:"",draggable_modal:!0,help_accessibility:!1,image_advtab:!0,plugins:`
  code help image link save wordcount`,promotion:!1,suffix:".min",toolbar:`
  save undo redo | formatselect | bold italic underline | forecolor backcolor |
  alignleft aligncenter alignright | outdent indent | code help`},s=`${l.Ll}/New Rich Text Document.whtml`;var c=n(6434),u=n(91410),m=n(54944),f=n(34772),v=n(59140),p=n(78743),b=n(12691),h=n(27972),g=n(57626),w=({containerRef:e,id:t,setLoading:i,url:o})=>{let{processes:{[t]:{libs:w=[]}={}}={},url:y}=(0,p.z)(),[x,E]=(0,a.useState)(),{prependFileToTitle:k}=(0,f.Z)(t),{readFile:$,stat:T,updateFolder:C,writeFile:L}=(0,v.o)(),{onDragOver:W,onDrop:R}=(0,m.Z)({id:t}),{setForegroundId:_}=(0,b.k)(),D=(0,a.useCallback)(async e=>{let t=new Date((0,u.GA)(e,await T(e))),n=new Intl.DateTimeFormat(l.ZW,{dateStyle:"medium"}).format(t);k(`${(0,r.basename)(e,(0,r.extname)(e))} (${n})`)},[k,T]),S=(0,g.p)(),Z=(0,a.useCallback)(()=>{var t;let n=null===(t=e.current)||void 0===t?void 0:t.querySelector("iframe");(null==n?void 0:n.contentWindow)&&[...n.contentWindow.document.links].forEach(e=>e.addEventListener("click",t=>{(null==x?void 0:x.mode.isReadOnly())&&S(t,e.dataset.mceHref||"",e.pathname,e.textContent||"")}))},[e,null==x?void 0:x.mode,S]),F=(0,a.useCallback)(async()=>{if(x){let t=()=>{x.options.set("save_onsavecallback",async()=>{var e,t,n,i;let a={closeButton:!0,text:"Successfully saved.",timeout:5e3,type:"success"},l=o||s;try{await L(".rtf"===(0,h.RT)(l)?l.replace(".rtf",".whtml"):l,x.getContent(),!0),C((0,r.dirname)(l),(0,r.basename)(l)),D(l)}catch{a.text="Error occurred while saving.",a.type="error"}x.notificationManager.open(a);let d=null===(n=x.notificationManager.getNotifications())||void 0===n?void 0:null===(t=n[0])||void 0===t?void 0:null===(e=t.getEl())||void 0===e?void 0:e.parentElement,c=x.editorContainer;d instanceof HTMLElement&&c instanceof HTMLElement&&(c.append(d),d.setAttribute("style","position: absolute; right: 0; bottom: 0; padding: 33px 25px;"),null===(i=d.querySelector("[role=alert]"))||void 0===i||i.setAttribute("style","opacity: 1;"))})},i=await $(o);if(0===i.length)x.mode.set("design"),t();else{var e;if((0,c.Wt)(x,t),".rtf"===(0,h.RT)(o)){let{RTFJS:e}=await Promise.all([n.e(8705),n.e(3131)]).then(n.bind(n,83131)),t=new e.Document(i),o=await t.render();x.setContent(o.map(e=>e.outerHTML).join(""))}else x.setContent(i.toString());Z(),(null===(e=x.iframeElement)||void 0===e?void 0:e.contentDocument)&&(x.iframeElement.contentDocument.documentElement.scrollTop=0)}D(o)}},[x,Z,$,C,D,o,L]),A=(0,a.useRef)(!1);(0,a.useEffect)(()=>{x||A.current||(A.current=!0,(0,h.mb)(w).then(()=>{window.tinymce&&e.current&&(window.tinymce.remove(),window.tinymce.init({readonly:!!o,selector:`.${[...e.current.classList].join(".")} div`,setup:e=>{e.on("ExecCommand",({command:e})=>{"mceNewDocument"===e&&(y(t,""),k(""))})},...d}).then(([n])=>{var o;let r=null===(o=e.current)||void 0===o?void 0:o.querySelector("iframe");(null==r?void 0:r.contentWindow)&&(r.contentWindow.addEventListener("dragover",e=>{(0,c.Fg)(n)&&W(e)}),r.contentWindow.addEventListener("drop",e=>{(0,c.Fg)(n)&&R(e)}),r.contentWindow.addEventListener("blur",()=>_(e=>e===t?"":e)),r.contentWindow.addEventListener("focus",()=>_(t)),r.contentWindow.addEventListener("mousedown",({pageX:e})=>r.contentWindow&&e>r.contentWindow.innerWidth-l.BQ&&_(t))),E(n),i(!1)}))}))},[e,x,t,w,W,R,k,_,i,y,o]),(0,a.useEffect)(()=>{o&&x&&F()},[x,F,o]),(0,a.useEffect)(()=>()=>{window.setTimeout(()=>null==x?void 0:x.destroy(),0)},[x])},y=n(50834),x=({id:e})=>(0,i.jsx)(y.Z,{StyledComponent:o,id:e,useHook:w,children:(0,i.jsx)("div",{})})},50834:function(e,t,n){var i=n(85893),o=n(5152),r=n.n(o),a=n(67294),l=n(54944),d=n(78743);let s=r()(()=>n.e(446).then(n.bind(n,60446)),{loadableGenerated:{webpack:()=>[60446]}});t.Z=(0,a.memo)(({id:e,useHook:t,StyledComponent:n,children:o})=>{let{processes:{[e]:{url:r=""}={}}}=(0,d.z)(),c=(0,a.useRef)(null),[u,m]=(0,a.useState)(!0),f=(0,a.useMemo)(()=>({contain:"strict",visibility:u?"hidden":"visible"}),[u]);return t({containerRef:c,id:e,loading:u,setLoading:m,url:r}),(0,i.jsxs)(i.Fragment,{children:[u&&(0,i.jsx)(s,{}),(0,i.jsx)(n,{ref:c,style:f,...(0,l.Z)({id:e}),children:o})]})})},54944:function(e,t,n){var i=n(1864),o=n(67294),r=n(46013),a=n(36094),l=n(41893),d=n(59140),s=n(78743),c=n(12691),u=n(26550),m=n(27972);t.Z=({callback:e,directory:t=u.Ll,id:n,onDragLeave:f,onDragOver:v,updatePositions:p})=>{let{url:b}=(0,s.z)(),{iconPositions:h,sortOrders:g,setIconPositions:w}=(0,c.k)(),{mkdirRecursive:y,updateFolder:x,writeFile:E}=(0,d.o)(),k=(0,o.useCallback)(async(e,t,o)=>{if(n){if(t){let r=(0,i.join)(u.Ll,e);if(await y(u.Ll),await E(r,t,!0))return o===l.v.UPDATE_URL&&b(n,r),x(u.Ll,e),(0,i.basename)(r)}else o===l.v.UPDATE_URL&&b(n,e)}return""},[n,y,x,b,E]),{openTransferDialog:$}=(0,r.Z)();return{onDragLeave:f,onDragOver:e=>{null==v||v(e),(0,m.nK)(e)},onDrop:o=>{if(!u.my.has((0,m.RT)(t))){if(p&&o.target instanceof HTMLElement){let{files:e,text:n}=(0,a.p4)(o);if(0===e.length&&""===n)return;let r={x:o.clientX,y:o.clientY},l=[];if(n){try{l=JSON.parse(n)}catch{}if(!Array.isArray(l))return;let[e]=l;if(!e||e.startsWith(t)&&(0,i.basename)(e)===(0,i.relative)(t,e))return;l=l.map(e=>(0,i.basename)(e))}else l=e instanceof FileList?[...e].map(e=>e.name):[...e].map(e=>{var t;return(null===(t=e.getAsFile())||void 0===t?void 0:t.name)||""}).filter(Boolean);l=l.map(e=>{if(!h[`${t}/${e}`])return e;let n=0,o="";do n+=1,o=`${t}/${(0,i.basename)(e,(0,i.extname)(e))} (${n})${(0,i.extname)(e)}`;while(h[o]);return(0,i.basename)(o)}),(0,m.vi)(t,o.target,h,g,r,l,w)}(0,a.WG)(o,e||k,t,$,!!n)}}}}},34772:function(e,t,n){var i=n(67294),o=n(78743),r=n(28272),a=n(26550);t.Z=e=>{let{title:t}=(0,o.z)(),[n]=e.split(a.CC),{title:l}=r.Z[n]||{};return{appendFileToTitle:(0,i.useCallback)((n,i)=>{let o=n?` - ${n}${i?` ${a.xy}`:""}`:"";t(e,`${l}${o}`)},[e,l,t]),prependFileToTitle:(0,i.useCallback)((n,i,o)=>{let r=n?`${i?`${a.xy} `:""}${n}${o?" ":" - "}`:"";t(e,`${r}${l}`)},[e,l,t])}}},57626:function(e,t,n){n.d(t,{p:function(){return s}});var i=n(1864),o=n(67294),r=n(6434),a=n(91410),l=n(78743),d=n(27972);let s=()=>{let{open:e}=(0,l.z)();return(0,o.useCallback)((t,n,o,l)=>{if((0,d.nK)(t),(0,d.yk)(n))e("VideoPlayer",{url:n});else if((0,r.VT)(n))e("Browser",{initialTitle:l,url:n});else if(o&&""!==(0,i.relative)(decodeURI((n.startsWith("/")?n:`/${n}`).replace(window.location.origin,"")),decodeURI(o)))window.open(n,"_blank","noopener, noreferrer");else{let t=(0,a.Wd)((0,d.RT)(o));t&&e(t,{url:decodeURI(o)})}},[e])}}}]);