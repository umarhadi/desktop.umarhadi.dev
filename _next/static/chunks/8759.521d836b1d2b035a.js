(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8759],{28759:function(r,e,t){var n=t(14224);!function(){var e={};function t(){"undefined"==typeof n&&console.log.apply(console,arguments)}r.exports=e,function(r){!function(){"use strict";var e=function(){function r(r){this.message="JPEG error: "+r}return r.prototype=new Error,r.prototype.name="JpegError",r.constructor=r,r}(),t=function(){var r=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),t=4017,i=799,a=3406,f=2276,o=1567,u=3784,s=5793,l=2896;function c(r){null==r&&(r={}),null==r.w&&(r.w=-1),this.V=r.n,this.N=r.w}function v(r,e){for(var t,n,i,a=0,f=[],o=16;o>0&&!r[o-1];)o--;f.push({children:[],index:0});var u=f[0];for(t=0;t<o;t++){for(n=0;n<r[t];n++){for((u=f.pop()).children[u.index]=e[a];u.index>0;)u=f.pop();for(u.index++,f.push(u);f.length<=t;)f.push(i={children:[],index:0}),u.children[u.index]=i.children,u=i;a++}t+1<o&&(f.push(i={children:[],index:0}),u.children[u.index]=i.children,u=i)}return f[0].children}function d(r,e,t){return 64*((r.P+1)*e+t)}function h(t,i,a,f,o,u,s,l,c,v){null==v&&(v=!1);var h,w,g,b,p,m,A,U,I,y,E,D=a.m,M=a.Z,k=i,B=0,F=0,P=0,C=0,x=0,H=0;function L(){if(F>0)return F--,B>>F&1;if(255===(B=t[i++])){var r=t[i++];if(r){if(220===r&&v){var f=n(t,i+=2);if(i+=2,f>0&&f!==a.s)throw new DNLMarkerError("Found DNL marker (0xFFDC) while parsing scan data",f)}else if(217===r){if(v){var o=8*x;if(o>0&&o<a.s/10)throw new DNLMarkerError("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect `scanLines` parameter",o)}throw new EOIMarkerError("Found EOI marker (0xFFD9) while parsing scan data")}throw new e("unexpected marker")}}return F=7,B>>>7}function S(r){for(var t=r;;){switch(typeof(t=t[L()])){case"number":return t;case"object":continue}throw new e("invalid huffman sequence")}}function N(r){for(var e=0;r>0;)e=e<<1|L(),r--;return e}function G(r){if(1===r)return 1===L()?1:-1;var e=N(r);return e>=1<<r-1?e:e+(-1<<r)+1}function J(r,e,t,n,i){var a=t%D;x=(t/D|0)*r.A+n;var f=a*r.h+i;e(r,d(r,x,f))}function O(r,e,t){x=t/r.P|0;var n=t%r.P;e(r,d(r,x,n))}var W=f.length;for(A=M?0===u?0===l?function(r,e){var t=S(r.J),n=0===t?0:G(t)<<c;r.D[e]=r.Q+=n}:function(r,e){r.D[e]|=L()<<c}:0===l?function(e,t){if(P>0)P--;else for(var n=u,i=s;n<=i;){var a=S(e.i),f=15&a,o=a>>4;if(0!==f){var l=r[n+=o];e.D[t+l]=G(f)*(1<<c),n++}else{if(o<15){P=N(o)+(1<<o)-1;break}n+=16}}}:function(t,n){for(var i,a,f=u,o=s,l=0;f<=o;){var v=n+r[f],d=t.D[v]<0?-1:1;switch(C){case 0:if(l=(a=S(t.i))>>4,0===(i=15&a))l<15?(P=N(l)+(1<<l),C=4):(l=16,C=1);else{if(1!==i)throw new e("invalid ACn encoding");h=G(i),C=l?2:3}continue;case 1:case 2:t.D[v]?t.D[v]+=d*(L()<<c):0===--l&&(C=2===C?3:0);break;case 3:t.D[v]?t.D[v]+=d*(L()<<c):(t.D[v]=h<<c,C=0);break;case 4:t.D[v]&&(t.D[v]+=d*(L()<<c))}f++}4===C&&0===--P&&(C=0)}:function(e,t){var n=S(e.J),i=0===n?0:G(n),a=1;for(e.D[t]=e.Q+=i;a<64;){var f=S(e.i),o=15&f,u=f>>4;if(0!==o){var s=r[a+=u];e.D[t+s]=G(o),a++}else{if(u<15)break;a+=16}}},I=1===W?f[0].P*f[0].c:D*a.R;H<=I;){var j=o?Math.min(I-H,o):I;if(j>0){for(g=0;g<W;g++)f[g].Q=0;if(P=0,1===W)for(w=f[0],m=0;m<j;m++)O(w,A,H),H++;else for(m=0;m<j;m++){for(g=0;g<W;g++)for(y=(w=f[g]).h,E=w.A,b=0;b<E;b++)for(p=0;p<y;p++)J(w,A,H,b,p);H++}}if(F=0,!(U=_(t,i)))break;if(U.u){i=U.offset}if(!(U.M>=65488&&U.M<=65495))break;i+=2}return i-k}function w(r,n,c){var v,d,h,w,g,_,b,p,m,A,U,I,y,E,D,M,k,B=r.$,F=r.D;if(!B)throw new e("missing required Quantization Table.");for(var P=0;P<64;P+=8)m=F[n+P],A=F[n+P+1],U=F[n+P+2],I=F[n+P+3],y=F[n+P+4],E=F[n+P+5],D=F[n+P+6],M=F[n+P+7],m*=B[P],0!==(A|U|I|y|E|D|M)?(A*=B[P+1],U*=B[P+2],I*=B[P+3],y*=B[P+4],E*=B[P+5],D*=B[P+6],M*=B[P+7],d=(v=(v=s*m+128>>8)+(d=s*y+128>>8)+1>>1)-d,k=(h=U)*u+(w=D)*o+128>>8,h=h*o-w*u+128>>8,b=(g=(g=l*(A-M)+128>>8)+(b=E<<4)+1>>1)-b,_=(p=(p=l*(A+M)+128>>8)+(_=I<<4)+1>>1)-_,w=(v=v+(w=k)+1>>1)-w,h=(d=d+h+1>>1)-h,k=g*f+p*a+2048>>12,g=g*a-p*f+2048>>12,p=k,k=_*i+b*t+2048>>12,_=_*t-b*i+2048>>12,b=k,c[P]=v+p,c[P+7]=v-p,c[P+1]=d+b,c[P+6]=d-b,c[P+2]=h+_,c[P+5]=h-_,c[P+3]=w+g,c[P+4]=w-g):(k=s*m+512>>10,c[P]=k,c[P+1]=k,c[P+2]=k,c[P+3]=k,c[P+4]=k,c[P+5]=k,c[P+6]=k,c[P+7]=k);for(var C=0;C<8;++C)m=c[C],0!==((A=c[C+8])|(U=c[C+16])|(I=c[C+24])|(y=c[C+32])|(E=c[C+40])|(D=c[C+48])|(M=c[C+56]))?(d=(v=4112+((v=s*m+2048>>12)+(d=s*y+2048>>12)+1>>1))-d,k=(h=U)*u+(w=D)*o+2048>>12,h=h*o-w*u+2048>>12,w=k,b=(g=(g=l*(A-M)+2048>>12)+(b=E)+1>>1)-b,_=(p=(p=l*(A+M)+2048>>12)+(_=I)+1>>1)-_,k=g*f+p*a+2048>>12,g=g*a-p*f+2048>>12,p=k,k=_*i+b*t+2048>>12,_=_*t-b*i+2048>>12,(m=(v=v+w+1>>1)+p)<16?m=0:m>=4080?m=255:m>>=4,(A=(d=d+h+1>>1)+(b=k))<16?A=0:A>=4080?A=255:A>>=4,(U=(h=d-h)+_)<16?U=0:U>=4080?U=255:U>>=4,(I=(w=v-w)+g)<16?I=0:I>=4080?I=255:I>>=4,(y=w-g)<16?y=0:y>=4080?y=255:y>>=4,(E=h-_)<16?E=0:E>=4080?E=255:E>>=4,(D=d-b)<16?D=0:D>=4080?D=255:D>>=4,(M=v-p)<16?M=0:M>=4080?M=255:M>>=4,F[n+C]=m,F[n+C+8]=A,F[n+C+16]=U,F[n+C+24]=I,F[n+C+32]=y,F[n+C+40]=E,F[n+C+48]=D,F[n+C+56]=M):(k=(k=s*m+8192>>14)<-2040?0:k>=2024?255:k+2056>>4,F[n+C]=k,F[n+C+8]=k,F[n+C+16]=k,F[n+C+24]=k,F[n+C+32]=k,F[n+C+40]=k,F[n+C+48]=k,F[n+C+56]=k)}function g(r,e){for(var t=e.P,n=e.c,i=new Int16Array(64),a=0;a<n;a++)for(var f=0;f<t;f++){w(e,d(e,a,f),i)}return e.D}function _(r,e,t){null==t&&(t=e);var i=r.length-1,a=t<e?t:e;if(e>=i)return null;var f=n(r,e);if(f>=65472&&f<=65534)return{u:null,M:f,offset:e};for(var o=n(r,a);!(o>=65472&&o<=65534);){if(++a>=i)return null;o=n(r,a)}return{u:f.toString(16),M:o,offset:a}}return c.prototype={parse(t,i){null==i&&(i={});var a,f,o=i.F,u=0,s=null,l=null,c=0;function d(){var r=n(t,u),e=(u+=2)+r-2,i=_(t,e,u);i&&i.u&&(e=i.offset);var a=t.subarray(u,e);return u+=a.length,a}function w(r){for(var e=Math.ceil(r.o/8/r.X),t=Math.ceil(r.s/8/r.B),n=0;n<r.W.length;n++){j=r.W[n];var i=Math.ceil(Math.ceil(r.o/8)*j.h/r.X),a=Math.ceil(Math.ceil(r.s/8)*j.A/r.B),f=e*j.h,o=64*(t*j.A)*(f+1);j.D=new Int16Array(o),j.P=i,j.c=a}r.m=e,r.R=t}var b=[],p=[],m=[],A=n(t,u);if(u+=2,65496!==A)throw new e("SOI not found");A=n(t,u),u+=2;r:for(;65497!==A;){var U,I,y;switch(A){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var E=d();65504===A&&74===E[0]&&70===E[1]&&73===E[2]&&70===E[3]&&0===E[4]&&(s={version:{d:E[5],T:E[6]},K:E[7],j:E[8]<<8|E[9],H:E[10]<<8|E[11],S:E[12],I:E[13],C:E.subarray(14,14+3*E[12]*E[13])}),65518===A&&65===E[0]&&100===E[1]&&111===E[2]&&98===E[3]&&101===E[4]&&(l={version:E[5]<<8|E[6],k:E[7]<<8|E[8],q:E[9]<<8|E[10],a:E[11]});break;case 65499:for(var D=n(t,u)+(u+=2)-2;u<D;){var M=t[u++],k=new Uint16Array(64);if(M>>4===0)for(I=0;I<64;I++)k[r[I]]=t[u++];else{if(M>>4!==1)throw new e("DQT - invalid table spec");for(I=0;I<64;I++)k[r[I]]=n(t,u),u+=2}b[15&M]=k}break;case 65472:case 65473:case 65474:if(a)throw new e("Only single frame JPEGs supported");u+=2,(a={}).G=65473===A,a.Z=65474===A,a.precision=t[u++];var B,F=n(t,u),P=0,C=0;u+=2,a.s=o||F,a.o=n(t,u),u+=2,a.W=[],a._={};var x=t[u++];for(U=0;U<x;U++){B=t[u];var H=t[u+1]>>4,L=15&t[u+1];P<H&&(P=H),C<L&&(C=L);var S=t[u+2];y=a.W.push({h:H,A:L,L:S,$:null}),a._[B]=y-1,u+=3}a.X=P,a.B=C,w(a);break;case 65476:var N=n(t,u);for(u+=2,U=2;U<N;){var G=t[u++],J=new Uint8Array(16),O=0;for(I=0;I<16;I++,u++)O+=J[I]=t[u];var W=new Uint8Array(O);for(I=0;I<O;I++,u++)W[I]=t[u];U+=17+O,(G>>4===0?m:p)[15&G]=v(J,W)}break;case 65501:f=n(t,u+=2),u+=2;break;case 65498:var j,T=1===++c&&!o;u+=2;var R=t[u++],Q=[];for(U=0;U<R;U++){var q=t[u++],Z=a._[q];(j=a.W[Z]).index=q;var $=t[u++];j.J=m[$>>4],j.i=p[15&$],Q.push(j)}var V=t[u++],X=t[u++],z=t[u++];try{var Y=h(t,u,a,Q,f,V,X,z>>4,15&z,T);u+=Y}catch(er){if(er instanceof DNLMarkerError)return this.parse(t,{F:er.s});if(er instanceof EOIMarkerError)break r;throw er}break;case 65500:u+=4;break;case 65535:255!==t[u]&&u--;break;default:var K=_(t,u-2,u-3);if(K&&K.u){u=K.offset;break}if(u>=t.length-1)break r;throw new e("JpegImage.parse - unknown marker: "+A.toString(16))}A=n(t,u),u+=2}for(this.width=a.o,this.height=a.s,this.g=s,this.b=l,this.W=[],U=0;U<a.W.length;U++){var rr=b[(j=a.W[U]).L];rr&&(j.$=rr),this.W.push({index:j.index,e:g(0,j),l:j.h/a.X,t:j.A/a.B,P:j.P,c:j.c})}this.p=this.W.length},Y(r,e,t){null==t&&(t=!1);var n,i,a,f,o,u,s,l,c,v,d,h,w=this.width/r,g=this.height/e,_=0,b=this.W.length,p=r*e*b,m=new Uint8ClampedArray(p),A=new Uint32Array(r),U=4294967288;for(s=0;s<b;s++){if(i=(n=this.W[s]).l*w,a=n.t*g,_=s,d=n.e,f=n.P+1<<3,i!==h){for(o=0;o<r;o++)l=0|o*i,A[o]=(l&U)<<3|7&l;h=i}for(u=0;u<e;u++)for(v=f*((l=0|u*a)&U)|(7&l)<<3,o=0;o<r;o++)m[_]=d[v+A[o]],_+=b}var I=this.V;if(t||4!==b||I||(I=new Int32Array([-256,255,-256,255,-256,255,-256,255])),I)for(s=0;s<p;)for(l=0,c=0;l<b;l++,s++,c+=2)m[s]=(m[s]*I[c]>>8)+I[c+1];return m},get f(){return this.b?!!this.b.a:3===this.p?0!==this.N&&(82!==this.W[0].index||71!==this.W[1].index||66!==this.W[2].index):1===this.N},z:function(r){for(var e,t,n,i=0,a=r.length;i<a;i+=3)e=r[i],t=r[i+1],n=r[i+2],r[i]=e-179.456+1.402*n,r[i+1]=e+135.459-.344*t-.714*n,r[i+2]=e-226.816+1.772*t;return r},O:function(r){for(var e,t,n,i,a=0,f=0,o=r.length;f<o;f+=4)e=r[f],t=r[f+1],n=r[f+2],i=r[f+3],r[a++]=t*(-660635669420364e-19*t+.000437130475926232*n-54080610064599e-18*e+.00048449797120281*i-.154362151871126)-122.67195406894+n*(-.000957964378445773*n+.000817076911346625*e-.00477271405408747*i+1.53380253221734)+e*(.000961250184130688*e-.00266257332283933*i+.48357088451265)+i*(-.000336197177618394*i+.484791561490776),r[a++]=107.268039397724+t*(219927104525741e-19*t-.000640992018297945*n+.000659397001245577*e+.000426105652938837*i-.176491792462875)+n*(-.000778269941513683*n+.00130872261408275*e+.000770482631801132*i-.151051492775562)+e*(.00126935368114843*e-.00265090189010898*i+.25802910206845)+i*(-.000318913117588328*i-.213742400323665),r[a++]=t*(-.000570115196973677*t-263409051004589e-19*n+.0020741088115012*e-.00288260236853442*i+.814272968359295)-20.810012546947+n*(-153496057440975e-19*n-.000132689043961446*e+.000560833691242812*i-.195152027534049)+e*(.00174418132927582*e-.00255243321439347*i+.116935020465145)+i*(-.000343531996510555*i+.24165260232407);return r.subarray(0,a)},r:function(r){for(var e,t,n,i=0,a=r.length;i<a;i+=4)e=r[i],t=r[i+1],n=r[i+2],r[i]=434.456-e-1.402*n,r[i+1]=119.541-e+.344*t+.714*n,r[i+2]=481.816-e-1.772*t;return r},U:function(r){for(var e,t,n,i,a=0,f=0,o=r.length;f<o;f+=4)e=r[f],t=r[f+1],n=r[f+2],i=r[f+3],r[a++]=255+e*(-6747147073602441e-20*e+.0008379262121013727*t+.0002894718188643294*n+.003264231057537806*i-1.1185611867203937)+t*(26374107616089405e-21*t-8626949158638572e-20*n-.0002748769067499491*i-.02155688794978967)+n*(-3878099212869363e-20*n-.0003267808279485286*i+.0686742238595345)-i*(.0003361971776183937*i+.7430659151342254),r[a++]=255+e*(.00013596372813588848*e+.000924537132573585*t+.00010567359618683593*n+.0004791864687436512*i-.3109689587515875)+t*(-.00023545346108370344*t+.0002702845253534714*n+.0020200308977307156*i-.7488052167015494)+n*(6834815998235662e-20*n+.00015168452363460973*i-.09751927774728933)-i*(.0003189131175883281*i+.7364883807733168),r[a++]=255+e*(13598650411385307e-21*e+.00012423956175490851*t+.0004751985097583589*n-36729317476630422e-22*i-.05562186980264034)+t*(.00016141380598724676*t+.0009692239130725186*n+.0007782692450036253*i-.44015232367526463)+n*(5.068882914068769e-7*n+.0017778369011375071*i-.7591454649749609)-i*(.0003435319965105553*i+.7063770186160144);return r.subarray(0,a)},getData:function(r){var t=r.width,n=r.height,i=r.forceRGB,a=r.isSourcePDF;if(this.p>4)throw new e("Unsupported color mode");var f=this.Y(t,n,a);if(1===this.p&&i){for(var o=f.length,u=new Uint8ClampedArray(3*o),s=0,l=0;l<o;l++){var c=f[l];u[s++]=c,u[s++]=c,u[s++]=c}return u}if(3===this.p&&this.f)return this.z(f);if(4===this.p){if(this.f)return i?this.O(f):this.r(f);if(i)return this.U(f)}return f}},c}();function n(r,e){return r[e]<<8|r[e+1]}r.JpegDecoder=t}(),r.encodeImage=function(e,t,n,i){var a={t256:[t],t257:[n],t258:[8,8,8,8],t259:[1],t262:[2],t273:[1e3],t277:[4],t278:[n],t279:[t*n*4],t282:[[72,1]],t283:[[72,1]],t284:[1],t286:[[0,1]],t287:[[0,1]],t296:[1],t305:["Photopea (UTIF.js)"],t338:[1]};if(i)for(var f in i)a[f]=i[f];var o=new Uint8Array(r.encode([a])),u=new Uint8Array(e),s=new Uint8Array(1e3+t*n*4);for(f=0;f<o.length;f++)s[f]=o[f];for(f=0;f<u.length;f++)s[1e3+f]=u[f];return s.buffer},r.encode=function(e){var t=new Uint8Array(2e4),n=4,i=r._binBE;t[0]=t[1]=77,i.writeUshort(t,2,42);var a=8;i.writeUint(t,n,a),n+=4;for(var f=0;f<e.length;f++){var o=r._writeIFD(i,r._types.basic,t,a,e[f]);a=o[1],f<e.length-1&&(0!=(3&a)&&(a+=4-(3&a)),i.writeUint(t,o[0],a))}return t.slice(0,a).buffer},r.decode=function(e,n){null==n&&(n={parseMN:!0,debug:!1});var i=new Uint8Array(e),a=0,f=r._binBE.readASCII(i,a,2);a+=2;var o="II"==f?r._binLE:r._binBE;o.readUshort(i,a);a+=2;var u=o.readUint(i,a);a+=4;for(var s=[];;){var l=o.readUshort(i,u),c=o.readUshort(i,u+4);if(0!=l&&(c<1||13<c)){t("error in TIFF");break}if(r._readIFD(o,i,u,s,0,n),0==(u=o.readUint(i,u+2+12*l)))break}return s},r.decodeImage=function(e,n,i){if(!n.data){var a=new Uint8Array(e),f=r._binBE.readASCII(a,0,2);if(null!=n.t256){n.isLE="II"==f,n.width=n.t256[0],n.height=n.t257[0];var o=n.t259?n.t259[0]:1,u=n.t266?n.t266[0]:1;n.t284&&2==n.t284[0]&&t("PlanarConfiguration 2 should not be used!"),7==o&&n.t258&&n.t258.length>3&&(n.t258=n.t258.slice(0,3));var s=n.t277?n.t277[0]:1,l=(n.t258?n.t258[0]:1)*s;1==o&&null!=n.t279&&n.t278&&32803==n.t262[0]&&(l=Math.round(8*n.t279[0]/(n.width*n.t278[0]))),n.t50885&&4==n.t50885[0]&&(l=3*n.t258[0]);var c=8*Math.ceil(n.width*l/8),v=n.t273;(null==v||n.t322)&&(v=n.t324);var d=n.t279;1==o&&1==v.length&&(d=[n.height*(c>>>3)]),(null==d||n.t322)&&(d=n.t325);var h=new Uint8Array(n.height*(c>>>3)),w=0;if(null!=n.t322){var g=n.t322[0],_=n.t323[0],b=Math.floor((n.width+g-1)/g),p=Math.floor((n.height+_-1)/_),m=new Uint8Array(0|Math.ceil(g*_*l/8));console.log("====",b,p);for(var A=0;A<p;A++)for(var U=0;U<b;U++){var I=A*b+U;m.fill(0),r.decode._decompress(n,i,a,v[I],d[I],o,m,0,u,g,_),6==o?h=m:r._copyTile(m,0|Math.ceil(g*l/8),_,h,0|Math.ceil(n.width*l/8),n.height,0|Math.ceil(U*g*l/8),A*_)}w=8*h.length}else{if(null==v)return;var y=n.t278?n.t278[0]:n.height;y=Math.min(y,n.height);for(I=0;I<v.length;I++)r.decode._decompress(n,i,a,v[I],d[I],o,h,0|Math.ceil(w/8),u,n.width,y),w+=c*y;w=Math.min(w,8*h.length)}n.data=new Uint8Array(h.buffer,0,0|Math.ceil(w/8))}}},r.decode._decompress=function(e,n,i,a,f,o,u,s,l,c,v){if(e.t271&&"Panasonic"==e.t271[0]&&e.t45&&6==e.t45[0]&&(o=34316),1==o)for(var d=0;d<f;d++)u[s+d]=i[a+d];else if(2==o)r.decode._decodeG2(i,a,f,u,s,c,l);else if(3==o)r.decode._decodeG3(i,a,f,u,s,c,l,!!e.t292&&1==(1&e.t292[0]));else if(4==o)r.decode._decodeG4(i,a,f,u,s,c,l);else if(5==o)r.decode._decodeLZW(i,a,f,u,s,8);else if(6==o)r.decode._decodeOldJPEG(e,i,a,f,u,s);else if(7==o||34892==o)r.decode._decodeNewJPEG(e,i,a,f,u,s);else if(8==o||32946==o){var h=new Uint8Array(i.buffer,a+2,f-6),w=r._inflateRaw(h);s+w.length<=u.length&&u.set(w,s)}else 9==o?r.decode._decodeVC5(i,a,f,u,s,e.t33422):32767==o?r.decode._decodeARW(e,i,a,f,u,s):32773==o?r.decode._decodePackBits(i,a,f,u,s):32809==o?r.decode._decodeThunder(i,a,f,u,s):34316==o?r.decode._decodePanasonic(e,i,a,f,u,s):34713==o?r.decode._decodeNikon(e,n,i,a,f,u,s):34676==o?r.decode._decodeLogLuv32(e,i,a,f,u,s):t("Unknown compression",o);var g=e.t258?Math.min(32,e.t258[0]):1,_=e.t277?e.t277[0]:1,b=g*_>>>3,p=Math.ceil(g*_*c/8);if(16==g&&!e.isLE&&null==e.t33422)for(var m=0;m<v;m++)for(var A=s+m*p,U=1;U<p;U+=2){var I=u[A+U];u[A+U]=u[A+U-1],u[A+U-1]=I}if(e.t317&&2==e.t317[0])for(m=0;m<v;m++){var y=s+m*p;if(16==g)for(d=b;d<p;d+=2){var E=(u[y+d+1]<<8|u[y+d])+(u[y+d-b+1]<<8|u[y+d-b]);u[y+d]=255&E,u[y+d+1]=E>>>8&255}else if(3==_)for(d=3;d<p;d+=3)u[y+d]=u[y+d]+u[y+d-3]&255,u[y+d+1]=u[y+d+1]+u[y+d-2]&255,u[y+d+2]=u[y+d+2]+u[y+d-1]&255;else for(d=b;d<p;d++)u[y+d]=u[y+d]+u[y+d-b]&255}},r.decode._decodePanasonic=function(r,e,t,n,i,a){var f,o,u,s,l,c,v,d,h=e.buffer,w=r.t2[0],g=r.t3[0],_=r.t10[0],b=r.t45[0],p=0,m=0,A=0,U=0,I=6==b?new Uint32Array(18):new Uint8Array(16),y=[0,0],E=[0,0],D=0,M=new Uint8Array(16384),k=new Uint16Array(i.buffer);function B(r){if(0==A){var e=new Uint8Array(h,t+m+8184,8200),n=new Uint8Array(h,t+m,8184);M.set(e),M.set(n,e.length),m+=16384}if(5!=b)return(M[U=(A=A-r&131071)>>3^16368]|M[U+1]<<8)>>(7&A)&~(-1<<r);for(f=0;f<16;f++)I[f]=M[A++],A&=16383}function F(r){return M[A+15-r]}function P(){y[0]=0,y[1]=0,E[0]=0,E[1]=0}if(7==b)throw b;if(6==b){var C=12==_,x=C?function(){I[0]=F(0)<<4|F(1)>>4,I[1]=4095&((15&F(1))<<8|F(2)),I[2]=F(3)>>6&3,I[3]=(63&F(3))<<2|F(4)>>6,I[4]=(63&F(4))<<2|F(5)>>6,I[5]=(63&F(5))<<2|F(6)>>6,I[6]=F(6)>>4&3,I[7]=(15&F(6))<<4|F(7)>>4,I[8]=(15&F(7))<<4|F(8)>>4,I[9]=(15&F(8))<<4|F(9)>>4,I[10]=F(9)>>2&3,I[11]=(3&F(9))<<6|F(10)>>2,I[12]=(3&F(10))<<6|F(11)>>2,I[13]=(3&F(11))<<6|F(12)>>2,I[14]=3&F(12),I[15]=F(13),I[16]=F(14),I[17]=F(15),A+=16,U=0}:function(){I[0]=F(0)<<6|F(1)>>2,I[1]=16383&((3&F(1))<<12|F(2)<<4|F(3)>>4),I[2]=F(3)>>2&3,I[3]=(3&F(3))<<8|F(4),I[4]=F(5)<<2|F(6)>>6,I[5]=(63&F(6))<<4|F(7)>>4,I[6]=F(7)>>2&3,I[7]=(3&F(7))<<8|F(8),I[8]=F(9)<<2&1020|F(10)>>6,I[9]=1023&(F(10)<<4|F(11)>>4),I[10]=F(11)>>2&3,I[11]=(3&F(11))<<8|F(12),I[12]=1023&(F(13)<<2&1020|F(14)>>6),I[13]=1023&(F(14)<<4|F(15)>>4),A+=16,U=0},H=C?14:11,L=C?128:512,S=C?2048:8192,N=C?16383:65535,G=C?4095:16383,J=w/H,O=16*J,W=C?18:14;for(c=0;c<g-15;c+=16){var j=Math.min(16,g-c),T=O*j;for(M=new Uint8Array(h,t+p,T),A=0,p+=T,d=0,v=0;d<j;d++,v=0){D=(c+d)*w;for(var R=0;R<J;R++)for(x(),P(),u=0,l=0,f=0;f<H;f++){if(s=1&f,f%3==2){var Q=U<W?I[U++]:0;3==Q&&(Q=4),l=L<<Q,u=1<<Q}var q=U<W?I[U++]:0;y[s]?(q*=u,l<S&&E[s]>l&&(q+=E[s]-l),E[s]=q):(y[s]=q,q?E[s]=q:q=E[s]),k[D+v++]=q-15<=N?q-15&N:q+2147483633>>31&G}}}}else if(5==b){var Z=12==_?10:9;for(c=0;c<g;c++)for(v=0;v<w;v+=Z)B(0),12==_?(k[D++]=((15&I[1])<<8)+I[0],k[D++]=16*I[2]+(I[1]>>4),k[D++]=((15&I[4])<<8)+I[3],k[D++]=16*I[5]+(I[4]>>4),k[D++]=((15&I[7])<<8)+I[6],k[D++]=16*I[8]+(I[7]>>4),k[D++]=((15&I[10])<<8)+I[9],k[D++]=16*I[11]+(I[10]>>4),k[D++]=((15&I[13])<<8)+I[12],k[D++]=16*I[14]+(I[13]>>4)):14==_&&(k[D++]=I[0]+((63&I[1])<<8),k[D++]=(I[1]>>6)+4*I[2]+((15&I[3])<<10),k[D++]=(I[3]>>4)+16*I[4]+((3&I[5])<<12),k[D++]=((252&I[5])>>2)+(I[6]<<6),k[D++]=I[7]+((63&I[8])<<8),k[D++]=(I[8]>>6)+4*I[9]+((15&I[10])<<10),k[D++]=(I[10]>>4)+16*I[11]+((3&I[12])<<12),k[D++]=((252&I[12])>>2)+(I[13]<<6),k[D++]=I[14]+((63&I[15])<<8))}else{if(4!=b)throw b;for(c=0;c<g;c++)for(v=0;v<w;v++)s=1&(f=v%14),0==f&&P(),f%3==2&&(u=4>>3-B(2)),E[s]?0!=(o=B(8))&&(y[s]-=128<<u,(y[s]<0||4==u)&&(y[s]&=~(-1<<u)),y[s]+=o<<u):(E[s]=B(8),(E[s]||f>11)&&(y[s]=E[s]<<4|B(4))),k[D++]=y[1&v]}},r.decode._decodeVC5=function(){var e,t,n,i=[1,0,1,0,2,2,1,1,3,7,1,2,5,25,1,3,6,48,1,4,6,54,1,5,7,111,1,8,7,99,1,6,7,105,12,0,7,107,1,7,8,209,20,0,8,212,1,9,8,220,1,10,9,393,1,11,9,394,32,0,9,416,1,12,9,427,1,13,10,887,1,18,10,784,1,14,10,790,1,15,10,835,60,0,10,852,1,16,10,885,1,17,11,1571,1,19,11,1668,1,20,11,1669,100,0,11,1707,1,21,11,1772,1,22,12,3547,1,29,12,3164,1,24,12,3166,1,25,12,3140,1,23,12,3413,1,26,12,3537,1,27,12,3539,1,28,13,7093,1,35,13,6283,1,30,13,6331,1,31,13,6335,180,0,13,6824,1,32,13,7072,1,33,13,7077,320,0,13,7076,1,34,14,12565,1,36,14,12661,1,37,14,12669,1,38,14,13651,1,39,14,14184,1,40,15,28295,1,46,15,28371,1,47,15,25320,1,42,15,25336,1,43,15,25128,1,41,15,27300,1,44,15,28293,1,45,16,50259,1,48,16,50643,1,49,16,50675,1,50,16,56740,1,53,16,56584,1,51,16,56588,1,52,17,113483,1,61,17,113482,1,60,17,101285,1,55,17,101349,1,56,17,109205,1,57,17,109207,1,58,17,100516,1,54,17,113171,1,59,18,202568,1,62,18,202696,1,63,18,218408,1,64,18,218412,1,65,18,226340,1,66,18,226356,1,67,18,226358,1,68,19,402068,1,69,19,405138,1,70,19,405394,1,71,19,436818,1,72,19,436826,1,73,19,452714,1,75,19,452718,1,76,19,452682,1,74,20,804138,1,77,20,810279,1,78,20,810790,1,79,20,873638,1,80,20,873654,1,81,20,905366,1,82,20,905430,1,83,20,905438,1,84,21,1608278,1,85,21,1620557,1,86,21,1621582,1,87,21,1621583,1,88,21,1747310,1,89,21,1810734,1,90,21,1810735,1,91,21,1810863,1,92,21,1810879,1,93,22,3621725,1,99,22,3621757,1,100,22,3241112,1,94,22,3494556,1,95,22,3494557,1,96,22,3494622,1,97,22,3494623,1,98,23,6482227,1,102,23,6433117,1,101,23,6989117,1,103,23,6989119,1,105,23,6989118,1,104,23,7243449,1,106,23,7243512,1,107,24,13978233,1,111,24,12964453,1,109,24,12866232,1,108,24,14486897,1,113,24,13978232,1,110,24,14486896,1,112,24,14487026,1,114,24,14487027,1,115,25,25732598,1,225,25,25732597,1,189,25,25732596,1,188,25,25732595,1,203,25,25732594,1,202,25,25732593,1,197,25,25732592,1,207,25,25732591,1,169,25,25732590,1,223,25,25732589,1,159,25,25732522,1,235,25,25732579,1,152,25,25732575,1,192,25,25732489,1,179,25,25732573,1,201,25,25732472,1,172,25,25732576,1,149,25,25732488,1,178,25,25732566,1,120,25,25732571,1,219,25,25732577,1,150,25,25732487,1,127,25,25732506,1,211,25,25732548,1,125,25,25732588,1,158,25,25732486,1,247,25,25732467,1,238,25,25732508,1,163,25,25732552,1,228,25,25732603,1,183,25,25732513,1,217,25,25732587,1,168,25,25732520,1,122,25,25732484,1,128,25,25732562,1,249,25,25732505,1,187,25,25732504,1,186,25,25732483,1,136,25,25928905,1,181,25,25732560,1,255,25,25732500,1,230,25,25732482,1,135,25,25732555,1,233,25,25732568,1,222,25,25732583,1,145,25,25732481,1,134,25,25732586,1,167,25,25732521,1,248,25,25732518,1,209,25,25732480,1,243,25,25732512,1,216,25,25732509,1,164,25,25732547,1,140,25,25732479,1,157,25,25732544,1,239,25,25732574,1,191,25,25732564,1,251,25,25732478,1,156,25,25732546,1,139,25,25732498,1,242,25,25732557,1,133,25,25732477,1,162,25,25732515,1,213,25,25732584,1,165,25,25732514,1,212,25,25732476,1,227,25,25732494,1,198,25,25732531,1,236,25,25732530,1,234,25,25732529,1,117,25,25732528,1,215,25,25732527,1,124,25,25732526,1,123,25,25732525,1,254,25,25732524,1,253,25,25732523,1,148,25,25732570,1,218,25,25732580,1,146,25,25732581,1,147,25,25732569,1,224,25,25732533,1,143,25,25732540,1,184,25,25732541,1,185,25,25732585,1,166,25,25732556,1,132,25,25732485,1,129,25,25732563,1,250,25,25732578,1,151,25,25732501,1,119,25,25732502,1,193,25,25732536,1,176,25,25732496,1,245,25,25732553,1,229,25,25732516,1,206,25,25732582,1,144,25,25732517,1,208,25,25732558,1,137,25,25732543,1,241,25,25732466,1,237,25,25732507,1,190,25,25732542,1,240,25,25732551,1,131,25,25732554,1,232,25,25732565,1,252,25,25732475,1,171,25,25732493,1,205,25,25732492,1,204,25,25732491,1,118,25,25732490,1,214,25,25928904,1,180,25,25732549,1,126,25,25732602,1,182,25,25732539,1,175,25,25732545,1,141,25,25732559,1,138,25,25732537,1,177,25,25732534,1,153,25,25732503,1,194,25,25732606,1,160,25,25732567,1,121,25,25732538,1,174,25,25732497,1,246,25,25732550,1,130,25,25732572,1,200,25,25732474,1,170,25,25732511,1,221,25,25732601,1,196,25,25732532,1,142,25,25732519,1,210,25,25732495,1,199,25,25732605,1,155,25,25732535,1,154,25,25732499,1,244,25,25732510,1,220,25,25732600,1,195,25,25732607,1,161,25,25732604,1,231,25,25732473,1,173,25,25732599,1,226,26,51465122,1,116,26,51465123,0,1],a=[3,3,3,3,2,2,2,1,1,1];function f(r){var e=r[1],t=r[0][e>>>3]>>>7-(7&e)&1;return r[1]++,t}function o(r,t){if(null==e){e={};for(var n=0;n<i.length;n+=4)e[i[n+1]]=i.slice(n,n+4)}for(var a=f(r),o=e[a];null==o;)a=a<<1|f(r),o=e[a];var u=o[3];0!=u&&(u=0==f(r)?u:-u),t[0]=o[2],t[1]=u}function u(r,e){for(var t=0;t<e;t++)1==(1&r)&&r++,r>>>=1;return r}function s(r,e){return r>>e}function l(r,e,t,n,i,a){e[t]=s(s(11*r[i]-4*r[i+a]+r[i+a+a]+4,3)+r[n],1),e[t+a]=s(s(5*r[i]+4*r[i+a]-r[i+a+a]+4,3)-r[n],1)}function c(r,e,t,n,i,a){var f=r[i-a]-r[i+a],o=r[i],u=r[n];e[t]=s(s(f+4,3)+o+u,1),e[t+a]=s(s(4-f,3)+o-u,1)}function v(r,e,t,n,i,a){e[t]=s(s(5*r[i]+4*r[i-a]-r[i-a-a]+4,3)+r[n],1),e[t+a]=s(s(11*r[i]-4*r[i-a]+r[i-a-a]+4,3)-r[n],1)}function d(r){return r=n[r=r<0?0:r>4095?4095:r]>>>2}return function(e,i,f,s,h,w){s=new Uint16Array(s.buffer);var g,_,b,p,m,A,U,I,y=Date.now(),E=r._binBE,D=i+f;i+=4;for(var M=1==w[0];i<D;){var k=E.readShort(e,i),B=E.readUshort(e,i+2);if(i+=4,12==k)S=B;else if(20==k)g=B;else if(21==k)_=B;else if(48==k)b=B;else if(53==k)p=B;else if(35==k)B;else if(62==k)m=B;else if(101==k)B;else if(109==k)A=B;else if(84==k)B;else if(106==k)B;else if(107==k)B;else if(108==k)B;else if(102==k)B;else if(104==k)tr=B;else if(105==k)B;else{var F=k<0?-k:k,P=65280&F,C=0;if(24576&F&&(8192&F?(C=65535&B,C+=(255&F)<<16):C=65535&B),24576==(24576&F)){if(null==U){U=[];for(var x=0;x<4;x++)U[x]=new Int16Array((g>>>1)*(_>>>1));I=new Int16Array((g>>>1)*(_>>>1)),t=new Int16Array(1024);for(x=0;x<1024;x++){var H=x-512,L=Math.abs(H),S=Math.floor(768*L*L*L/16581375)+L;t[x]=Math.sign(H)*S}n=new Uint16Array(4096);for(x=0;x<4096;x++){var N=x,G=65535*(Math.pow(113,N/4095)-1)/112;n[x]=Math.min(G,65535)}}var J=U[m],O=u(g,1+a[b]),W=u(_,1+a[b]);if(0==b)for(var j=0;j<W;j++)for(var T=0;T<O;T++){var R=i+2*(j*O+T);J[j*(g>>>1)+T]=e[R]<<8|e[R+1]}else{var Q=[e,8*i],q=[],Z=0,$=O*W,V=[0,0],X=0;for(B=0;Z<$;)for(o(Q,V),X=V[0],B=V[1];X>0;)q[Z++]=B,X--;var z=(b-1)%3,Y=1!=z?O:0,K=0!=z?W:0;for(j=0;j<W;j++){var rr=(j+K)*(g>>>1)+Y,er=j*O;for(T=0;T<O;T++)J[rr+T]=t[q[er+T]+512]*p}if(2==z){var tr=g>>>1,nr=2*O,ir=2*W;for(j=0;j<W;j++)for(T=0;T<nr;T++){x=2*j*tr+T;var ar=W*tr+(or=j*tr+T);0==j?l(J,I,x,ar,or,tr):j==W-1?v(J,I,x,ar,or,tr):c(J,I,x,ar,or,tr)}var fr=J;J=I,I=fr;for(j=0;j<ir;j++)for(T=0;T<O;T++){var or;x=j*tr+2*T,ar=O+(or=j*tr+T);0==T?l(J,I,x,ar,or,1):T==O-1?v(J,I,x,ar,or,1):c(J,I,x,ar,or,1)}fr=J;J=I,I=fr;for(var ur=[],sr=2-~~((b-1)/3),lr=0;lr<3;lr++)ur[lr]=A>>14-2*lr&3;var cr=ur[sr];if(0!=cr)for(j=0;j<ir;j++)for(T=0;T<nr;T++){J[x=j*tr+T]=J[x]<<cr}}}if(9==b&&3==m){var vr=U[0],dr=U[1],hr=U[2],wr=U[3];for(j=0;j<_;j+=2)for(T=0;T<g;T+=2){var gr=j*g+T,_r=vr[R=(j>>>1)*(g>>>1)+(T>>>1)],br=dr[R]-2048,pr=hr[R]-2048,mr=wr[R]-2048,Ar=(br<<1)+_r,Ur=(pr<<1)+_r,Ir=_r+mr,yr=_r-mr;M?(s[gr]=d(Ir),s[gr+1]=d(Ur),s[gr+g]=d(Ar),s[gr+g+1]=d(yr)):(s[gr]=d(Ar),s[gr+1]=d(Ir),s[gr+g]=d(yr),s[gr+g+1]=d(Ur))}}i+=4*C}else if(16388==F)i+=4*C;else if(8192!=P&&8448!=P&&9216!=P)throw F.toString(16)}}console.log(Date.now()-y)}}(),r.decode._decodeLogLuv32=function(r,e,t,n,i,a){for(var f=r.width,o=4*f,u=0,s=new Uint8Array(o);u<n;){for(var l=0;l<o;){var c=e[t+u];if(u++,c<128){for(var v=0;v<c;v++)s[l+v]=e[t+u+v];l+=c,u+=c}else{c-=126;for(v=0;v<c;v++)s[l+v]=e[t+u];l+=c,u++}}for(var d=0;d<f;d++)i[a+0]=s[d],i[a+1]=s[d+f],i[a+2]=s[d+2*f],i[a+4]=s[d+3*f],a+=6}},r.decode._ljpeg_diff=function(e,t,n){var i,a,f=r.decode._getbithuff;return i=f(e,t,n[0],n),0==((a=f(e,t,i,0))&1<<i-1)&&(a-=(1<<i)-1),a},r.decode._decodeARW=function(e,t,n,i,a,f){var o=e.t256[0],u=e.t257[0],s=e.t258[0],l=e.isLE?r._binLE:r._binBE;if(o*u==i||o*u*1.5==i)if(o*u*1.5!=i){var c,v,d,h,w,g,_,b,p=new Uint16Array(16),m=new Uint8Array(o+1);for(k=0;k<u;k++){for(var A=0;A<o;A++)m[A]=t[n++];for(b=0,M=0;M<o-30;b+=16){for(v=2047&(c=l.readUint(m,b)),d=2047&c>>>11,h=15&c>>>22,w=15&c>>>26,g=0;g<4&&128<<g<=v-d;g++);for(_=30,U=0;U<16;U++)U==h?p[U]=v:U==w?p[U]=d:(p[U]=((l.readUshort(m,b+(_>>3))>>>(7&_)&127)<<g)+d,p[U]>2047&&(p[U]=2047),_+=7);for(U=0;U<16;U++,M+=2){S=p[U]<<1;r.decode._putsF(a,(k*o+M)*s,S<<16-s)}M-=1&M?1:31}}}else for(var U=0;U<i;U+=3){var I=t[n+U+0],y=t[n+U+1],E=t[n+U+2];a[f+U]=y<<4|I>>>4,a[f+U+1]=I<<4|E>>>4,a[f+U+2]=E<<4|y>>>4}else{u+=8;var D,M,k,B=[n,0,0,0],F=new Uint16Array(32770),P=[3857,3856,3599,3342,3085,2828,2571,2314,2057,1800,1543,1286,1029,772,771,768,514,513],C=0,x=r.decode._ljpeg_diff;for(F[0]=15,D=U=0;U<18;U++)for(var H=32768>>>(P[U]>>>8),L=0;L<H;L++)F[++D]=P[U];for(M=o;M--;)for(k=0;k<u+1;k+=2)if(k==u&&(k=1),C+=x(t,B,F),k<u){var S=4095&C;r.decode._putsF(a,(k*o+M)*s,S<<16-s)}}},r.decode._decodeNikon=function(e,t,n,i,a,f,o){var u=[[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,5,4,3,6,2,7,1,0,8,9,11,10,12],[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,57,90,56,39,22,5,4,3,2,1,0,11,12,12],[0,0,1,4,2,3,1,2,0,0,0,0,0,0,0,0,0,5,4,6,3,7,2,8,1,9,0,10,11,12],[0,0,1,4,3,1,1,1,1,1,2,0,0,0,0,0,0,5,6,4,7,8,3,9,2,1,0,10,11,12,13,14],[0,0,1,5,1,1,1,1,1,1,1,2,0,0,0,0,0,8,92,75,58,41,7,6,5,4,3,2,1,0,13,14],[0,0,1,4,2,2,3,1,2,0,0,0,0,0,0,0,0,7,6,8,5,9,4,10,3,11,12,2,0,1,13,14]],s=e.t256[0],l=e.t257[0],c=e.t258[0],v=0,d=0,h=r.decode._make_decoder,w=r.decode._getbithuff,g=t[0].exifIFD.makerNote,_=g.t150?g.t150:g.t140,b=0,p=_[b++],m=_[b++];73!=p&&88!=m||(b+=2110),70==p&&(v=2),14==c&&(v+=3);for(var A=[[0,0],[0,0]],U=e.isLE?r._binLE:r._binBE,I=0;I<2;I++)for(var y=0;y<2;y++)A[I][y]=U.readShort(_,b),b+=2;var E,D,M,k,B,F=1<<c&32767,P=0,C=U.readShort(_,b);b+=2,C>1&&(P=Math.floor(F/(C-1))),68==p&&32==m&&P>0&&(d=U.readShort(_,562));var x=[0,0],H=h(u[v]),L=[i,0,0,0];for(E=0;E<l;E++)for(d&&E==d&&(H=h(u[v+1])),D=0;D<s;D++){I=w(n,L,H[0],H),0==((B=1+(w(n,L,(M=15&I)-(k=I>>>4),0)<<1)<<k>>>1)&1<<M-1)&&(B-=(1<<M)-(0==k?1:0)),D<2?x[D]=A[1&E][D]+=B:x[1&D]+=B;var S=Math.min(Math.max(x[1&D],0),(1<<c)-1),N=(E*s+D)*c;r.decode._putsF(f,N,S<<16-c)}},r.decode._putsF=function(r,e,t){t<<=8-(7&e);var n=e>>>3;r[n]|=t>>>16,r[n+1]|=t>>>8,r[n+2]|=t},r.decode._getbithuff=function(e,t,n,i){r.decode._get_byte;var a,f=t[0],o=t[1],u=t[2],s=t[3];if(0==n||u<0)return 0;for(;!s&&u<n&&-1!=(a=e[f++])&&!(s=0);)o=(o<<8)+a,u+=8;if(a=o<<32-u>>>32-n,i?(u-=i[a+1]>>>8,a=255&i[a+1]):u-=n,u<0)throw"e";return t[0]=f,t[1]=o,t[2]=u,t[3]=s,a},r.decode._make_decoder=function(r){var e,t,n,i,a,f=[];for(e=16;0!=e&&!r[e];e--);var o=17;for(f[0]=e,n=t=1;t<=e;t++)for(i=0;i<r[t];i++,++o)for(a=0;a<1<<e-t;a++)n<=1<<e&&(f[n++]=t<<8|r[o]);return f},r.decode._decodeNewJPEG=function(e,t,n,i,a,f){i=Math.min(i,t.length-n);var o=e.t347,u=o?o.length:0,s=new Uint8Array(u+i);if(o){for(var l=0,c=0;c<u-1&&(255!=o[c]||217!=o[c+1]);c++)s[l++]=o[c];var v=t[n],d=t[n+1];255==v&&216==d||(s[l++]=v,s[l++]=d);for(c=2;c<i;c++)s[l++]=t[n+c]}else for(c=0;c<i;c++)s[c]=t[n+c];if(32803==e.t262[0]||7==e.t259[0]&&34892==e.t262[0]){var h=e.t258[0],w=r.LosslessJpegDecode(s),g=w.length;if(16==h)if(e.isLE)for(c=0;c<g;c++)a[f+(c<<1)]=255&w[c],a[f+(c<<1)+1]=w[c]>>>8;else for(c=0;c<g;c++)a[f+(c<<1)]=w[c]>>>8,a[f+(c<<1)+1]=255&w[c];else if(14==h||12==h||10==h){var _=16-h;for(c=0;c<g;c++)r.decode._putsF(a,c*h,w[c]<<_)}else{if(8!=h)throw new Error("unsupported bit depth "+h);for(c=0;c<g;c++)a[f+c]=w[c]}}else{var b=new r.JpegDecoder;b.parse(s);var p=b.getData({width:b.width,height:b.height,forceRGB:!0,isSourcePDF:!1});for(c=0;c<p.length;c++)a[f+c]=p[c]}6==e.t262[0]&&(e.t262[0]=2)},r.decode._decodeOldJPEGInit=function(r,e,n,i){var a,f,o,u,s,l=216,c=0,v=0,d=!1,h=r.t513,w=h?h[0]:0,g=r.t514,_=g?g[0]:0,b=r.t324||r.t273||h,p=r.t530,m=0,A=0,U=r.t277?r.t277[0]:1,I=r.t515;if(b&&(v=b[0],d=b.length>1),!d){if(255==e[n]&&e[n+1]==l)return{jpegOffset:n};if(null!=h&&(255==e[n+w]&&e[n+w+1]==l?c=n+w:t("JPEGInterchangeFormat does not point to SOI"),null==g?t("JPEGInterchangeFormatLength field is missing"):(w>=v||w+_<=v)&&t("JPEGInterchangeFormatLength field value is invalid"),null!=c))return{jpegOffset:c}}if(null!=p&&(m=p[0],A=p[1]),null!=h&&null!=g)if(_>=2&&w+_<=v){for(a=255==e[n+w+_-2]&&e[n+w+_-1]==l?new Uint8Array(_-2):new Uint8Array(_),o=0;o<a.length;o++)a[o]=e[n+w+o];t("Incorrect JPEG interchange format: using JPEGInterchangeFormat offset to derive tables")}else t("JPEGInterchangeFormat+JPEGInterchangeFormatLength > offset to first strip or tile");if(null==a){var y=0,E=[];E[y++]=255,E[y++]=l;var D=r.t519;if(null==D)throw new Error("JPEGQTables tag is missing");for(o=0;o<D.length;o++)for(E[y++]=255,E[y++]=219,E[y++]=0,E[y++]=67,E[y++]=o,u=0;u<64;u++)E[y++]=e[n+D[o]+u];for(s=0;s<2;s++){var M=r[0==s?"t520":"t521"];if(null==M)throw new Error((0==s?"JPEGDCTables":"JPEGACTables")+" tag is missing");for(o=0;o<M.length;o++){E[y++]=255,E[y++]=196;var k=19;for(u=0;u<16;u++)k+=e[n+M[o]+u];for(E[y++]=k>>>8,E[y++]=255&k,E[y++]=o|s<<4,u=0;u<16;u++)E[y++]=e[n+M[o]+u];for(u=0;u<k;u++)E[y++]=e[n+M[o]+16+u]}}if(E[y++]=255,E[y++]=192,E[y++]=0,E[y++]=8+3*U,E[y++]=8,E[y++]=r.height>>>8&255,E[y++]=255&r.height,E[y++]=r.width>>>8&255,E[y++]=255&r.width,E[y++]=U,1==U)E[y++]=1,E[y++]=17,E[y++]=0;else for(o=0;o<3;o++)E[y++]=o+1,E[y++]=0!=o?17:(15&m)<<4|15&A,E[y++]=o;null!=I&&0!=I[0]&&(E[y++]=255,E[y++]=221,E[y++]=0,E[y++]=4,E[y++]=I[0]>>>8&255,E[y++]=255&I[0]),a=new Uint8Array(E)}var B=-1;for(o=0;o<a.length-1;){if(255==a[o]&&192==a[o+1]){B=o;break}o++}if(-1==B){var F=new Uint8Array(a.length+10+3*U);F.set(a);var P=a.length;if(B=a.length,(a=F)[P++]=255,a[P++]=192,a[P++]=0,a[P++]=8+3*U,a[P++]=8,a[P++]=r.height>>>8&255,a[P++]=255&r.height,a[P++]=r.width>>>8&255,a[P++]=255&r.width,a[P++]=U,1==U)a[P++]=1,a[P++]=17,a[P++]=0;else for(o=0;o<3;o++)a[P++]=o+1,a[P++]=0!=o?17:(15&m)<<4|15&A,a[P++]=o}if(255==e[v]&&218==e[v+1]){var C=e[v+2]<<8|e[v+3];for((f=new Uint8Array(C+2))[0]=e[v],f[1]=e[v+1],f[2]=e[v+2],f[3]=e[v+3],o=0;o<C-2;o++)f[o+4]=e[v+o+4]}else{var x=0;if((f=new Uint8Array(8+2*U))[x++]=255,f[x++]=218,f[x++]=0,f[x++]=6+2*U,f[x++]=U,1==U)f[x++]=1,f[x++]=0;else for(o=0;o<3;o++)f[x++]=o+1,f[x++]=o<<4|o;f[x++]=0,f[x++]=63,f[x++]=0}return{jpegOffset:n,tables:a,sosMarker:f,sofPosition:B}},r.decode._decodeOldJPEG=function(e,t,n,i,a,f){var o,u,s,l,c=r.decode._decodeOldJPEGInit(e,t,n,i);if(null!=c.jpegOffset)for(o=n+i-c.jpegOffset,s=new Uint8Array(o),h=0;h<o;h++)s[h]=t[c.jpegOffset+h];else{for(u=c.tables.length,(s=new Uint8Array(u+c.sosMarker.length+i+2)).set(c.tables),l=u,s[c.sofPosition+5]=e.height>>>8&255,s[c.sofPosition+6]=255&e.height,s[c.sofPosition+7]=e.width>>>8&255,s[c.sofPosition+8]=255&e.width,255==t[n]&&t[n+1]==SOS||(s.set(c.sosMarker,l),l+=sosMarker.length),h=0;h<i;h++)s[l++]=t[n+h];s[l++]=255,s[l++]=EOI}var v=new r.JpegDecoder;v.parse(s);for(var d=v.getData({width:v.width,height:v.height,forceRGB:!0,isSourcePDF:!1}),h=0;h<d.length;h++)a[f+h]=d[h];e.t262&&6==e.t262[0]&&(e.t262[0]=2)},r.decode._decodePackBits=function(r,e,t,n,i){for(var a=new Int8Array(r.buffer),f=new Int8Array(n.buffer),o=e+t;e<o;){var u=a[e];if(e++,u>=0&&u<128)for(var s=0;s<u+1;s++)f[i]=a[e],i++,e++;if(u>=-127&&u<0){for(s=0;s<1-u;s++)f[i]=a[e],i++;e++}}return i},r.decode._decodeThunder=function(r,e,t,n,i){for(var a=[0,1,0,-1],f=[0,1,2,3,0,-3,-2,-1],o=e+t,u=2*i,s=0;e<o;){var l=r[e],c=l>>>6,v=63&l;if(e++,3==c&&(s=15&v,n[u>>>1]|=s<<4*(1-u&1),u++),0==c)for(var d=0;d<v;d++)n[u>>>1]|=s<<4*(1-u&1),u++;if(2==c)for(d=0;d<2;d++){4!=(h=v>>>3*(1-d)&7)&&(s+=f[h],n[u>>>1]|=s<<4*(1-u&1),u++)}if(1==c)for(d=0;d<3;d++){var h;2!=(h=v>>>2*(2-d)&3)&&(s+=a[h],n[u>>>1]|=s<<4*(1-u&1),u++)}}},r.decode._dmap={1:0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3},r.decode._lens=function(){var r=function(r,e,t,n){for(var i=0;i<e.length;i++)r[e[i]]=t+i*n},e="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100",t="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",n="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",i="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",a="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111";e=e.split(","),t=t.split(","),n=n.split(","),i=i.split(","),a=a.split(",");var f={},o={};return r(f,e,0,1),r(f,n,64,64),r(f,a,1792,64),r(o,t,0,1),r(o,i,64,64),r(o,a,1792,64),[f,o]}(),r.decode._decodeG4=function(e,t,n,i,a,f,o){for(var u=r.decode,s=t<<3,l=0,c="",v=[],d=[],h=0;h<f;h++)d.push(0);d=u._makeDiff(d);for(var w=0,g=0,_=0,b=0,p=0,m=0,A="",U=0,I=8*Math.ceil(f/8);s>>>3<t+n;){_=u._findDiff(d,w+(0==w?0:1),1-p),b=u._findDiff(d,_,p);var y=0;if(1==o&&(y=e[s>>>3]>>>7-(7&s)&1),2==o&&(y=e[s>>>3]>>>(7&s)&1),s++,c+=y,"H"==A){if(null!=u._lens[p][c]){var E=u._lens[p][c];c="",l+=E,E<64&&(u._addNtimes(v,l,p),w+=l,p=1-p,l=0,0==--U&&(A=""))}}else"0001"==c&&(c="",u._addNtimes(v,b-w,p),w=b),"001"==c&&(c="",A="H",U=2),null!=u._dmap[c]&&(g=_+u._dmap[c],u._addNtimes(v,g-w,p),w=g,c="",p=1-p);v.length==f&&""==A&&(u._writeBits(v,i,8*a+m*I),p=0,m++,w=0,d=u._makeDiff(v),v=[])}},r.decode._findDiff=function(r,e,t){for(var n=0;n<r.length;n+=2)if(r[n]>=e&&r[n+1]==t)return r[n]},r.decode._makeDiff=function(r){var e=[];1==r[0]&&e.push(0,1);for(var t=1;t<r.length;t++)r[t-1]!=r[t]&&e.push(t,r[t]);return e.push(r.length,0,r.length,1),e},r.decode._decodeG2=function(e,t,n,i,a,f,o){for(var u=r.decode,s=t<<3,l=0,c="",v=[],d=0,h=0,w=8*Math.ceil(f/8);s>>>3<t+n;){var g=0;1==o&&(g=e[s>>>3]>>>7-(7&s)&1),2==o&&(g=e[s>>>3]>>>(7&s)&1),s++,c+=g,null!=(l=u._lens[d][c])&&(u._addNtimes(v,l,d),c="",l<64&&(d=1-d),v.length==f&&(u._writeBits(v,i,8*a+h*w),v=[],h++,d=0,0!=(7&s)&&(s+=8-(7&s)),l>=64&&(s+=8)))}},r.decode._decodeG3=function(e,t,n,i,a,f,o,u){for(var s=r.decode,l=t<<3,c=0,v="",d=[],h=[],w=0;w<f;w++)d.push(0);for(var g=0,_=0,b=0,p=0,m=0,A=-1,U="",I=0,y=!0,E=8*Math.ceil(f/8);l>>>3<t+n;){b=s._findDiff(h,g+(0==g?0:1),1-m),p=s._findDiff(h,b,m);var D=0;if(1==o&&(D=e[l>>>3]>>>7-(7&l)&1),2==o&&(D=e[l>>>3]>>>(7&l)&1),l++,v+=D,y){if(null!=s._lens[m][v]){var M=s._lens[m][v];v="",c+=M,M<64&&(s._addNtimes(d,c,m),m=1-m,c=0)}}else if("H"==U){if(null!=s._lens[m][v]){M=s._lens[m][v];v="",c+=M,M<64&&(s._addNtimes(d,c,m),g+=c,m=1-m,c=0,0==--I&&(U=""))}}else"0001"==v&&(v="",s._addNtimes(d,p-g,m),g=p),"001"==v&&(v="",U="H",I=2),null!=s._dmap[v]&&(_=b+s._dmap[v],s._addNtimes(d,_-g,m),g=_,v="",m=1-m);v.endsWith("000000000001")&&(A>=0&&s._writeBits(d,i,8*a+A*E),u&&(1==o&&(y=1==(e[l>>>3]>>>7-(7&l)&1)),2==o&&(y=1==(e[l>>>3]>>>(7&l)&1)),l++),v="",m=0,A++,g=0,h=s._makeDiff(d),d=[])}d.length==f&&s._writeBits(d,i,8*a+A*E)},r.decode._addNtimes=function(r,e,t){for(var n=0;n<e;n++)r.push(t)},r.decode._writeBits=function(r,e,t){for(var n=0;n<r.length;n++)e[t+n>>>3]|=r[n]<<7-(t+n&7)},r.decode._decodeLZW=r.decode._decodeLZW=function(){var r,e,t,n,i=0,a=0,f=0,o=0,u=function(){var t=r>>>3,n=(e[t]<<16|e[t+1]<<8|e[t+2])>>>24-(7&r)-a&(1<<a)-1;return r+=a,n},s=new Uint32Array(16384),l=0,c=function(r){a=r+1,i=o+1},v=function(r){for(var e=r<<2,i=s[e+2],a=n+i-1;65535!=e;)t[a--]=s[e],e=s[e+1];n+=i},d=function(r,e){var t=i<<2,n=r<<2;s[t]=s[3+(e<<2)],s[t+1]=n,s[t+2]=s[n+2]+1,s[t+3]=s[n+3],++i+1==1<<a&&12!=a&&a++};return function(a,h,w,g,_,b){r=h<<3,e=a,t=g,n=_;var p=h+w<<3,m=0,A=0;for(!function(r){if(r!=l){l=r,o=1+(f=1<<r);for(var e=0;e<o+1;e++)s[4*e]=s[4*e+3]=e,s[4*e+1]=65535,s[4*e+2]=1}}(b),c(b);r<p&&(m=u())!=o;){if(m==f){if(c(b),(m=u())==o)break;v(m)}else m<i?(v(m),d(A,m)):(d(A,A),v(i-1));A=m}return n}}(),r.tags={},r._types=function(){var r=new Array(250);r.fill(0);return{basic:{main:r=r.concat([0,0,0,0,4,3,3,3,3,3,0,0,3,0,0,0,3,0,0,2,2,2,2,4,3,0,0,3,4,4,3,3,5,5,3,2,5,5,0,0,0,0,4,4,0,0,3,3,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,2,2,3,5,5,3,0,3,3,4,4,4,3,4,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),rest:{33432:2,33434:5,33437:5,34665:4,34850:3,34853:4,34855:3,34864:3,34866:4,36864:7,36867:2,36868:2,37121:7,37377:10,37378:5,37380:10,37381:5,37383:3,37384:3,37385:3,37386:5,37510:7,37520:2,37521:2,37522:2,40960:7,40961:3,40962:4,40963:4,40965:4,41486:5,41487:5,41488:3,41985:3,41986:3,41987:3,41988:5,41989:3,41990:3,41993:3,41994:3,41995:7,41996:3,42032:2,42033:2,42034:5,42036:2,42037:2,59932:7}},gps:{main:[1,2,5,2,5,1,5,5,0,9],rest:{18:2,29:2}}}}(),r._readIFD=function(e,n,i,a,f,o){var u=e.readUshort(n,i);i+=2;var s={};o.debug&&t("   ".repeat(f),a.length-1,">>>----------------");for(var l=0;l<u;l++){var c=e.readUshort(n,i);i+=2;var v=e.readUshort(n,i);i+=2;var d=e.readUint(n,i);i+=4;var h=e.readUint(n,i);i+=4;var w=[];if(1==v||7==v){var g=d<5?i-4:h;g+d>n.buffer.byteLength&&(d=n.buffer.byteLength-g),w=new Uint8Array(n.buffer,g,d)}if(2==v){var _=d<5?i-4:h,b=n[_],p=Math.max(0,Math.min(d-1,n.length-_));b<128||0==p?w.push(e.readASCII(n,_,p)):w=new Uint8Array(n.buffer,_,p)}if(3==v)for(var m=0;m<d;m++)w.push(e.readUshort(n,(d<3?i-4:h)+2*m));if(4==v||13==v)for(m=0;m<d;m++)w.push(e.readUint(n,(d<2?i-4:h)+4*m));if(5==v||10==v){var A=5==v?e.readUint:e.readInt;for(m=0;m<d;m++)w.push([A(n,h+8*m),A(n,h+8*m+4)])}if(8==v)for(m=0;m<d;m++)w.push(e.readShort(n,(d<3?i-4:h)+2*m));if(9==v)for(m=0;m<d;m++)w.push(e.readInt(n,(d<2?i-4:h)+4*m));if(11==v)for(m=0;m<d;m++)w.push(e.readFloat(n,h+4*m));if(12==v)for(m=0;m<d;m++)w.push(e.readDouble(n,h+8*m));if(0==d||0!=w.length){if(o.debug&&t("   ".repeat(f),c,v,r.tags[c],w),s["t"+c]=w,330==c&&s.t272&&"DSLR-A100"==s.t272[0]);else if(330==c||34665==c||34853==c||50740==c&&e.readUshort(n,e.readUint(w,0))<300||61440==c){var U=50740==c?[e.readUint(w,0)]:w,I=[];for(m=0;m<U.length;m++)r._readIFD(e,n,U[m],I,f+1,o);330==c&&(s.subIFD=I),34665==c&&(s.exifIFD=I[0]),34853==c&&(s.gpsiIFD=I[0]),50740==c&&(s.dngPrvt=I[0]),61440==c&&(s.fujiIFD=I[0])}if(37500==c&&o.parseMN){var y=w;if("Nikon"==e.readASCII(y,0,5))s.makerNote=r.decode(y.slice(10).buffer)[0];else if("OLYMP"==e.readASCII(y,0,5)||"OM SYSTEM"==e.readASCII(y,0,9)){var E=[8208,8224,8240,8256,8272],D=[];r._readIFD(e,y,77==y[1]?16:85==y[5]?12:8,D,f+1,o);var M=s.makerNote=D.pop();for(m=0;m<E.length;m++){var k="t"+E[m];null!=M[k]&&(r._readIFD(e,y,M[k][0],D,f+1,o),M[k]=D.pop())}M.t12288&&(r._readIFD(e,M.t12288,0,D,f+1,o),M.t12288=D.pop())}else if(e.readUshort(n,h)<300&&e.readUshort(n,h+4)<=12){D=[];r._readIFD(e,n,h,D,f+1,o),s.makerNote=D[0]}}}else if(t(c,"unknown TIFF tag type: ",v,"num:",d),0==l)return}return a.push(s),o.debug&&t("   ".repeat(f),"<<<---------------"),i},r._writeIFD=function(e,t,n,i,a){var f=Object.keys(a),o=f.length;a.exifIFD&&o--,a.gpsiIFD&&o--,e.writeUshort(n,i,o);for(var u=(i+=2)+12*o+4,s=0;s<f.length;s++){var l=f[s];if("t34665"!=l&&"t34853"!=l){"exifIFD"==l&&(l="t34665"),"gpsiIFD"==l&&(l="t34853");var c=parseInt(l.slice(1)),v=t.main[c];if(null==v&&(v=t.rest[c]),null==v||0==v)throw new Error("unknown type of tag: "+c);var d=a[l];if(34665==c)d=[u],u=r._writeIFD(e,t,n,u,a.exifIFD)[1];if(34853==c)d=[u],u=r._writeIFD(e,r._types.gps,n,u,a.gpsiIFD)[1];2==v&&(d=d[0]+"\0");var h=d.length;e.writeUshort(n,i,c),i+=2,e.writeUshort(n,i,v),i+=2,e.writeUint(n,i,h);var w=[-1,1,1,2,4,8,0,1,0,4,8,0,8][v]*h,g=i+=4;if(w>4&&(e.writeUint(n,i,u),g=u),1==v||7==v)for(var _=0;_<h;_++)n[g+_]=d[_];else if(2==v)e.writeASCII(n,g,d);else if(3==v)for(_=0;_<h;_++)e.writeUshort(n,g+2*_,d[_]);else if(4==v)for(_=0;_<h;_++)e.writeUint(n,g+4*_,d[_]);else if(5==v||10==v){var b=5==v?e.writeUint:e.writeInt;for(_=0;_<h;_++){var p=d[_],m=p[0],A=p[1];if(null==m)throw"e";b(n,g+8*_,m),b(n,g+8*_+4,A)}}else if(9==v)for(_=0;_<h;_++)e.writeInt(n,g+4*_,d[_]);else{if(12!=v)throw v;for(_=0;_<h;_++)e.writeDouble(n,g+8*_,d[_])}w>4&&(u+=w+=1&w),i+=4}}return[i,u]},r.toRGBA8=function(r,e){function n(r){return r<.0031308?12.92*r:1.055*Math.pow(r,1/2.4)-.055}var i=r.width,a=r.height,f=i*a,o=r.data,u=new Uint8Array(4*f),s=r.t262?r.t262[0]:2,l=r.t258?Math.min(32,r.t258[0]):1;null==r.t262&&1==l&&(s=0);var c=r.t277?r.t277[0]:r.t258?r.t258.length:[1,1,3,1,1,4,3][s],v=r.t339?r.t339[0]:null;if(1==s&&32==l&&3!=v)throw"e";var d=Math.ceil(c*l*i/8);if(0==s){e=1/256;for(var h=0;h<a;h++){var w=h*d,g=h*i;if(1==l)for(var _=0;_<i;_++){var b=g+_<<2,p=o[w+(_>>3)]>>7-(7&_)&1;u[b]=u[b+1]=u[b+2]=255*(1-p),u[b+3]=255}if(4==l)for(_=0;_<i;_++){b=g+_<<2,p=o[w+(_>>1)]>>4-4*(1&_)&15;u[b]=u[b+1]=u[b+2]=17*(15-p),u[b+3]=255}if(8==l)for(_=0;_<i;_++){b=g+_<<2,p=o[w+_];u[b]=u[b+1]=u[b+2]=255-p,u[b+3]=255}if(16==l)for(_=0;_<i;_++){b=g+_<<2,p=o[(A=w+2*_)+1]<<8|o[A];u[b]=u[b+1]=u[b+2]=Math.min(255,255-~~(p*e)),u[b+3]=255}}}else if(1==s){null==e&&(e=1/256);var m=0==(3&o.length)?new Float32Array(o.buffer):null;for(h=0;h<a;h++){w=h*d,g=h*i;if(1==l)for(_=0;_<i;_++){b=g+_<<2,p=o[w+(_>>3)]>>7-(7&_)&1;u[b]=u[b+1]=u[b+2]=255*p,u[b+3]=255}if(2==l)for(_=0;_<i;_++){b=g+_<<2,p=o[w+(_>>2)]>>6-2*(3&_)&3;u[b]=u[b+1]=u[b+2]=85*p,u[b+3]=255}if(8==l)for(_=0;_<i;_++){b=g+_<<2,p=o[w+_*c];u[b]=u[b+1]=u[b+2]=p,u[b+3]=255}if(16==l)for(_=0;_<i;_++){b=g+_<<2,p=o[(A=w+2*_)+1]<<8|o[A];u[b]=u[b+1]=u[b+2]=Math.min(255,~~(p*e)),u[b+3]=255}if(32==l)for(_=0;_<i;_++){var A;b=g+_<<2,p=m[A=(w>>>2)+_];u[b]=u[b+1]=u[b+2]=~~(.5+255*p),u[b+3]=255}}}else if(2==s)if(8==l){if(1==c)for(_=0;_<f;_++)u[4*_]=u[4*_+1]=u[4*_+2]=o[_],u[4*_+3]=255;if(3==c)for(_=0;_<f;_++){var U=3*_;u[b=_<<2]=o[U],u[b+1]=o[U+1],u[b+2]=o[U+2],u[b+3]=255}if(c>=4)for(_=0;_<f;_++){U=_*c;u[b=_<<2]=o[U],u[b+1]=o[U+1],u[b+2]=o[U+2],u[b+3]=o[U+3]}}else if(16==l){if(4==c)for(_=0;_<f;_++){U=8*_+1;u[b=_<<2]=o[U],u[b+1]=o[U+2],u[b+2]=o[U+4],u[b+3]=o[U+6]}if(3==c)for(_=0;_<f;_++){U=6*_+1;u[b=_<<2]=o[U],u[b+1]=o[U+2],u[b+2]=o[U+4],u[b+3]=255}}else{if(32!=l)throw l;var I=new Float32Array(o.buffer),y=0;for(_=0;_<I.length;_++)y=Math.min(y,I[_]);if(y<0)for(_=0;_<o.length;_+=4){var E=o[_];o[_]=o[_+3],o[_+3]=E,E=o[_+1],o[_+1]=o[_+2],o[_+2]=E}var D=[];for(_=0;_<65536;_++)D.push(n(_/65535));for(_=0;_<I.length;_++){var M=Math.max(0,Math.min(1,I[_]));I[_]=D[~~(.5+65535*M)]}if(3==c)for(_=0;_<f;_++){U=3*_;u[b=_<<2]=~~(.5+255*I[U]),u[b+1]=~~(.5+255*I[U+1]),u[b+2]=~~(.5+255*I[U+2]),u[b+3]=255}else{if(4!=c)throw c;for(_=0;_<f;_++){U=4*_;u[b=_<<2]=~~(.5+255*I[U]),u[b+1]=~~(.5+255*I[U+1]),u[b+2]=~~(.5+255*I[U+2]),u[b+3]=~~(.5+255*I[U+3])}}}else if(3==s){var k=r.t320,B=1<<l,F=8==l&&c>1&&r.t338&&0!=r.t338[0];for(h=0;h<a;h++)for(var P=0;P<i;P++){b=(_=h*i+P)<<2;var C=0,x=h*d;if(1==l)C=o[x+(P>>>3)]>>>7-(7&P)&1;else if(2==l)C=o[x+(P>>>2)]>>>6-2*(3&P)&3;else if(4==l)C=o[x+(P>>>1)]>>>4-4*(1&P)&15;else{if(8!=l)throw l;C=o[x+P*c]}u[b]=k[C]>>8,u[b+1]=k[B+C]>>8,u[b+2]=k[B+B+C]>>8,u[b+3]=F?o[x+P*c+1]:255}}else if(5==s){var H=c>4?1:0;for(_=0;_<f;_++){b=_<<2;var L=_*c;if(window.UDOC){var S=o[L],N=o[L+1],G=o[L+2],J=o[L+3],O=UDOC.C.cmykToRgb([S*(1/255),N*(1/255),G*(1/255),J*(1/255)]);u[b]=~~(.5+255*O[0]),u[b+1]=~~(.5+255*O[1]),u[b+2]=~~(.5+255*O[2])}else{S=255-o[L],N=255-o[L+1],G=255-o[L+2],J=(255-o[L+3])*(1/255);u[b]=~~(S*J+.5),u[b+1]=~~(N*J+.5),u[b+2]=~~(G*J+.5)}u[b+3]=255*(1-H)+o[L+4]*H}}else if(6==s&&r.t278){var W=r.t278[0];for(h=0;h<a;h+=W){_=h*i;for(var j=W*i,T=0;T<j;T++){b=4*(_+T),G=o[(L=3*_+4*(T>>>1))+(1&T)];var R=o[L+2]-128,Q=o[L+3]-128,q=G+((Q>>2)+(Q>>3)+(Q>>5)),Z=G-((R>>2)+(R>>4)+(R>>5))-((Q>>1)+(Q>>3)+(Q>>4)+(Q>>5)),$=G+(R+(R>>1)+(R>>2)+(R>>6));u[b]=Math.max(0,Math.min(255,q)),u[b+1]=Math.max(0,Math.min(255,Z)),u[b+2]=Math.max(0,Math.min(255,$)),u[b+3]=255}}}else if(32845==s)for(h=0;h<a;h++)for(P=0;P<i;P++){b=4*(h*i+P);var V=o[(L=6*(h*i+P))+1]<<8|o[L],X=(V=Math.pow(2,(V+.5)/256-64),(o[L+3]+.5)/410),z=(o[L+5]+.5)/410,Y=9*X/(6*X-16*z+12),K=4*z/(6*X-16*z+12),rr=Y*V/K,er=(1-Y-K)*V/K;q=2.69*rr-1.276*(G=V)-.414*er,Z=-1.022*rr+1.978*G+.044*er,$=.061*rr-.224*G+1.163*er;u[b]=255*n(Math.min(q,1)),u[b+1]=255*n(Math.min(Z,1)),u[b+2]=255*n(Math.min($,1)),u[b+3]=255}else t("Unknown Photometric interpretation: "+s);return u},r.replaceIMG=function(e){null==e&&(e=document.getElementsByTagName("img"));for(var t=["tif","tiff","dng","cr2","nef"],n=0;n<e.length;n++){var i=e[n],a=i.getAttribute("src");if(null!=a){var f=a.split(".").pop().toLowerCase();if(-1!=t.indexOf(f)){var o=new XMLHttpRequest;r._xhrs.push(o),r._imgs.push(i),o.open("GET",a),o.responseType="arraybuffer",o.onload=r._imgLoaded,o.send()}}}},r._xhrs=[],r._imgs=[],r._imgLoaded=function(e){var t=r._xhrs.indexOf(e.target),n=r._imgs[t];r._xhrs.splice(t,1),r._imgs.splice(t,1),n.setAttribute("src",r.bufferToURI(e.target.response))},r.bufferToURI=function(e){var t=r.decode(e),n=t,i=0,a=n[0];t[0].subIFD&&(n=n.concat(t[0].subIFD));for(var f=0;f<n.length;f++){var o=n[f];if(!(null==o.t258||o.t258.length<3)){var u=o.t256*o.t257;u>i&&(i=u,a=o)}}r.decodeImage(e,a,t);var s=r.toRGBA8(a),l=a.width,c=a.height,v=document.createElement("canvas");v.width=l,v.height=c;var d=v.getContext("2d"),h=new ImageData(new Uint8ClampedArray(s.buffer),l,c);return d.putImageData(h,0,0),v.toDataURL()},r._binBE={nextZero:function(r,e){for(;0!=r[e];)e++;return e},readUshort:function(r,e){return r[e]<<8|r[e+1]},readShort:function(e,t){var n=r._binBE.ui8;return n[0]=e[t+1],n[1]=e[t+0],r._binBE.i16[0]},readInt:function(e,t){var n=r._binBE.ui8;return n[0]=e[t+3],n[1]=e[t+2],n[2]=e[t+1],n[3]=e[t+0],r._binBE.i32[0]},readUint:function(e,t){var n=r._binBE.ui8;return n[0]=e[t+3],n[1]=e[t+2],n[2]=e[t+1],n[3]=e[t+0],r._binBE.ui32[0]},readASCII:function(r,e,t){for(var n="",i=0;i<t;i++)n+=String.fromCharCode(r[e+i]);return n},readFloat:function(e,t){for(var n=r._binBE.ui8,i=0;i<4;i++)n[i]=e[t+3-i];return r._binBE.fl32[0]},readDouble:function(e,t){for(var n=r._binBE.ui8,i=0;i<8;i++)n[i]=e[t+7-i];return r._binBE.fl64[0]},writeUshort:function(r,e,t){r[e]=t>>8&255,r[e+1]=255&t},writeInt:function(e,t,n){var i=r._binBE.ui8;r._binBE.i32[0]=n,e[t+3]=i[0],e[t+2]=i[1],e[t+1]=i[2],e[t+0]=i[3]},writeUint:function(r,e,t){r[e]=t>>24&255,r[e+1]=t>>16&255,r[e+2]=t>>8&255,r[e+3]=t>>0&255},writeASCII:function(r,e,t){for(var n=0;n<t.length;n++)r[e+n]=t.charCodeAt(n)},writeDouble:function(e,t,n){r._binBE.fl64[0]=n;for(var i=0;i<8;i++)e[t+i]=r._binBE.ui8[7-i]}},r._binBE.ui8=new Uint8Array(8),r._binBE.i16=new Int16Array(r._binBE.ui8.buffer),r._binBE.i32=new Int32Array(r._binBE.ui8.buffer),r._binBE.ui32=new Uint32Array(r._binBE.ui8.buffer),r._binBE.fl32=new Float32Array(r._binBE.ui8.buffer),r._binBE.fl64=new Float64Array(r._binBE.ui8.buffer),r._binLE={nextZero:r._binBE.nextZero,readUshort:function(r,e){return r[e+1]<<8|r[e]},readShort:function(e,t){var n=r._binBE.ui8;return n[0]=e[t+0],n[1]=e[t+1],r._binBE.i16[0]},readInt:function(e,t){var n=r._binBE.ui8;return n[0]=e[t+0],n[1]=e[t+1],n[2]=e[t+2],n[3]=e[t+3],r._binBE.i32[0]},readUint:function(e,t){var n=r._binBE.ui8;return n[0]=e[t+0],n[1]=e[t+1],n[2]=e[t+2],n[3]=e[t+3],r._binBE.ui32[0]},readASCII:r._binBE.readASCII,readFloat:function(e,t){for(var n=r._binBE.ui8,i=0;i<4;i++)n[i]=e[t+i];return r._binBE.fl32[0]},readDouble:function(e,t){for(var n=r._binBE.ui8,i=0;i<8;i++)n[i]=e[t+i];return r._binBE.fl64[0]},writeUshort:function(r,e,t){r[e]=255&t,r[e+1]=t>>8&255},writeInt:function(e,t,n){var i=r._binBE.ui8;r._binBE.i32[0]=n,e[t+0]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3]},writeUint:function(r,e,t){r[e]=t>>>0&255,r[e+1]=t>>>8&255,r[e+2]=t>>>16&255,r[e+3]=t>>>24&255},writeASCII:r._binBE.writeASCII},r._copyTile=function(r,e,t,n,i,a,f,o){for(var u=Math.min(e,i-f),s=Math.min(t,a-o),l=0;l<s;l++)for(var c=(o+l)*i+f,v=l*e,d=0;d<u;d++)n[c+d]=r[v+d]},r._inflateRaw=function(){var r={H:{}};return r.H.N=function(e,t){var n,i,a=Uint8Array,f=0,o=0,u=0,s=0,l=0,c=0,v=0,d=0,h=0;if(3==e[0]&&0==e[1])return t||new a(0);var w=r.H,g=w.b,_=w.e,b=w.R,p=w.n,m=w.A,A=w.Z,U=w.m,I=null==t;for(I&&(t=new a(e.length>>>2<<5));0==f;)if(f=g(e,h,1),o=g(e,h+1,2),h+=3,0!=o){if(I&&(t=r.H.W(t,d+(1<<17))),1==o&&(n=U.J,i=U.h,c=511,v=31),2==o){u=_(e,h,5)+257,s=_(e,h+5,5)+1,l=_(e,h+10,4)+4;h+=14;for(var y=1,E=0;E<38;E+=2)U.Q[E]=0,U.Q[E+1]=0;for(E=0;E<l;E++){var D=_(e,h+3*E,3);U.Q[1+(U.X[E]<<1)]=D,D>y&&(y=D)}h+=3*l,p(U.Q,y),m(U.Q,y,U.u),n=U.w,i=U.d,h=b(U.u,(1<<y)-1,u+s,e,h,U.v);var M=w.V(U.v,0,u,U.C);c=(1<<M)-1;var k=w.V(U.v,u,s,U.D);v=(1<<k)-1,p(U.C,M),m(U.C,M,n),p(U.D,k),m(U.D,k,i)}for(;;){var B=n[A(e,h)&c];h+=15&B;var F=B>>>4;if(F>>>8==0)t[d++]=F;else{if(256==F)break;var P=d+F-254;if(F>264){var C=U.q[F-257];P=d+(C>>>3)+_(e,h,7&C),h+=7&C}var x=i[A(e,h)&v];h+=15&x;var H=x>>>4,L=U.c[H],S=(L>>>4)+g(e,h,15&L);for(h+=15&L;d<P;)t[d]=t[d++-S],t[d]=t[d++-S],t[d]=t[d++-S],t[d]=t[d++-S];d=P}}}else{0!=(7&h)&&(h+=8-(7&h));var N=4+(h>>>3),G=e[N-4]|e[N-3]<<8;I&&(t=r.H.W(t,d+G)),t.set(new a(e.buffer,e.byteOffset+N,G),d),h=N+G<<3,d+=G}return t.length==d?t:t.slice(0,d)},r.H.W=function(r,e){var t=r.length;if(e<=t)return r;var n=new Uint8Array(t<<1);return n.set(r,0),n},r.H.R=function(e,t,n,i,a,f){for(var o=r.H.e,u=r.H.Z,s=0;s<n;){var l=e[u(i,a)&t];a+=15&l;var c=l>>>4;if(c<=15)f[s]=c,s++;else{var v=0,d=0;16==c?(d=3+o(i,a,2),a+=2,v=f[s-1]):17==c?(d=3+o(i,a,3),a+=3):18==c&&(d=11+o(i,a,7),a+=7);for(var h=s+d;s<h;)f[s]=v,s++}}return a},r.H.V=function(r,e,t,n){for(var i=0,a=0,f=n.length>>>1;a<t;){var o=r[a+e];n[a<<1]=0,n[1+(a<<1)]=o,o>i&&(i=o),a++}for(;a<f;)n[a<<1]=0,n[1+(a<<1)]=0,a++;return i},r.H.n=function(e,t){for(var n,i,a,f,o=r.H.m,u=e.length,s=o.j,l=0;l<=t;l++)s[l]=0;for(l=1;l<u;l+=2)s[e[l]]++;var c=o.K;for(n=0,s[0]=0,i=1;i<=t;i++)n=n+s[i-1]<<1,c[i]=n;for(a=0;a<u;a+=2)0!=(f=e[a+1])&&(e[a]=c[f],c[f]++)},r.H.A=function(e,t,n){for(var i=e.length,a=r.H.m.r,f=0;f<i;f+=2)if(0!=e[f+1])for(var o=f>>1,u=e[f+1],s=o<<4|u,l=t-u,c=e[f]<<l,v=c+(1<<l);c!=v;){n[a[c]>>>15-t]=s,c++}},r.H.l=function(e,t){for(var n=r.H.m.r,i=15-t,a=0;a<e.length;a+=2){var f=e[a]<<t-e[a+1];e[a]=n[f]>>>i}},r.H.M=function(r,e,t){t<<=7&e;var n=e>>>3;r[n]|=t,r[n+1]|=t>>>8},r.H.I=function(r,e,t){t<<=7&e;var n=e>>>3;r[n]|=t,r[n+1]|=t>>>8,r[n+2]|=t>>>16},r.H.e=function(r,e,t){return(r[e>>>3]|r[1+(e>>>3)]<<8)>>>(7&e)&(1<<t)-1},r.H.b=function(r,e,t){return(r[e>>>3]|r[1+(e>>>3)]<<8|r[2+(e>>>3)]<<16)>>>(7&e)&(1<<t)-1},r.H.Z=function(r,e){return(r[e>>>3]|r[1+(e>>>3)]<<8|r[2+(e>>>3)]<<16)>>>(7&e)},r.H.i=function(r,e){return(r[e>>>3]|r[1+(e>>>3)]<<8|r[2+(e>>>3)]<<16|r[3+(e>>>3)]<<24)>>>(7&e)},r.H.m=function(){var r=Uint16Array,e=Uint32Array;return{K:new r(16),j:new r(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new r(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new e(32),J:new r(512),_:[],h:new r(32),$:[],w:new r(32768),C:[],v:[],d:new r(32768),D:[],u:new r(512),Q:[],r:new r(32768),s:new e(286),Y:new e(30),a:new e(19),t:new e(15e3),k:new r(65536),g:new r(32768)}}(),function(){for(var e=r.H.m,t=0;t<32768;t++){var n=t;n=(4278255360&(n=(4042322160&(n=(3435973836&(n=(2863311530&n)>>>1|(1431655765&n)<<1))>>>2|(858993459&n)<<2))>>>4|(252645135&n)<<4))>>>8|(16711935&n)<<8,e.r[t]=(n>>>16|n<<16)>>>17}function i(r,e,t){for(;0!=e--;)r.push(0,t)}for(t=0;t<32;t++)e.q[t]=e.S[t]<<3|e.T[t],e.c[t]=e.p[t]<<4|e.z[t];i(e._,144,8),i(e._,112,9),i(e._,24,7),i(e._,8,8),r.H.n(e._,9),r.H.A(e._,9,e.J),r.H.l(e._,9),i(e.$,32,5),r.H.n(e.$,5),r.H.A(e.$,5,e.h),r.H.l(e.$,5),i(e.Q,19,0),i(e.C,286,0),i(e.D,30,0),i(e.v,320,0)}(),r.H.N}(),r.LosslessJpegDecode=function(){var r,e;function t(){return r[e++]}function n(){return r[e++]<<8|r[e++]}function i(r){for(var e=t(),n=[0,0,0,255],i=[],f=0;f<16;f++)i[f]=t();for(f=0;f<16;f++)for(var o=0;o<i[f];o++){n[a(n,0,f+1,1)+3]=t()}var u=new Uint8Array(256);r[e]=[new Uint8Array(n),u];for(f=0;f<256;f++){for(var s=8,l=f,c=0;255==n[c+3]&&0!=s;)c=n[c+(l>>--s&1)];u[f]=c}}function a(r,e,t,n){if(255!=r[e+3])return 0;if(0==t)return e;for(var i=0;i<2;i++){0==r[e+i]&&(r[e+i]=r.length,r.push(0,0,n,255));var f=a(r,r[e+i],t-1,n+1);if(0!=f)return f}return 0}function f(r){for(var e=r.b,t=r.f;e<25&&r.a<r.d;){var n=r.data[r.a++];255!=n||r.c||r.a++,t=t<<8|n,e+=8}if(e<0)throw"e";r.b=e,r.f=t}function o(r,e){return e.b<r&&f(e),e.f>>(e.b-=r)&65535>>16-r}function u(r,e){var t=r[0],n=0,i=255;e.b<16&&f(e);var a=e.f>>e.b-8&255;for(i=t[(n=r[1][a])+3],e.b-=t[n+2];255==i;)i=t[(n=t[n+(e.f>>--e.b&1)])+3];return i}function s(r,e){return r<32768>>16-e&&(r+=1-(1<<e)),r}function l(r,e){var t=u(r,e);return 0==t?0:16==t?-32768:s(o(t,e),t)}function c(r,e,t,n,i,a){for(var f=0,o=0;o<a;o++){for(var u=o*e,s=0;s<e;s+=i){f++;for(var c=0;c<i;c++)r[u+s+c]=l(n[c],t)}if(0!=t.e&&f%t.e==0&&0!=o){for(var v=t.a,d=t.data;255!=d[v]||!(208<=d[v+1]&&d[v+1]<=215);)v--;t.a=v+2,t.f=0,t.b=0}}}function v(r,e){return s(o(r,e),r)}function d(r,e,t,n,i,a,f,o){for(var u=t*f,s=i;s<a;s++)r[s]+=1<<o-1;for(var l=f;l<u;l+=f)for(s=i;s<a;s++)r[l+s]+=r[l+s-f];for(var c=1;c<n;c++){var v=c*u;for(s=i;s<a;s++)r[v+s]+=r[v+s-u];for(l=f;l<u;l+=f)for(s=i;s<a;s++){var d=v+l+s,h=d-u,w=r[d-f],g=0;if(0==e)g=0;else if(1==e)g=w;else if(2==e)g=r[h];else if(3==e)g=r[h-f];else if(4==e)g=w+(r[h]-r[h-f]);else if(5==e)g=w+(r[h]-r[h-f]>>>1);else if(6==e)g=r[h]+(w-r[h-f]>>>1);else{if(7!=e)throw e;g=w+r[h]>>>1}r[d]+=g}}}return function(a){if(r=a,e=0,65496!=n())throw"e";for(var f=[],o=0,s=0,l=0,h=[],w=[],g=[],_=0,b=0,p=0;;){var m=n();if(65535!=m){var A=n();if(65475==m){s=t(),b=n(),p=n(),_=t();for(var U=0;U<_;U++){var I=t(),y=t();if(0!=t())throw"e";f[I]=[U,y>>4,15&y]}}else if(65476==m)for(var E=e+A-2;e<E;)i(w);else{if(65498==m){e++;for(U=0;U<_;U++){var D=f[t()];g[D[0]]=w[t()>>>4],h[D[0]]=D.slice(1)}o=t(),e+=2;break}65501==m?l=n():e+=A-2}}else e--}var M=new(s>8?Uint16Array:Uint8Array)(b*p*_),k={b:0,f:0,c:8==o,a:e,data:r,d:r.length,e:l};if(k.c)!function(t,n,i,a,f){for(var o=r.length-e,s=0;s<o;s+=4){var l=r[e+s];r[e+s]=r[e+s+3],r[e+s+3]=l,l=r[e+s+1],r[e+s+1]=r[e+s+2],r[e+s+2]=l}for(var c=0;c<f;c++)for(var d=32768,h=32768,w=0;w<n;w+=2){var g=u(a,i),_=u(a,i);0!=g&&(d+=v(g,i)),0!=_&&(h+=v(_,i)),t[c*n+w]=65535&d,t[c*n+w+1]=65535&h}}(M,p*_,k,g[0],b);else{var B=[],F=0,P=0;for(U=0;U<_;U++){var C=h[U];(j=C[0])>F&&(F=j),(W=C[1])>P&&(P=W),B.push(j*W)}if(1!=F||1!=P){if(3!=_||1!=B[1]||1!=B[2])throw"e";if(2!=F||1!=P&&2!=P)throw"e";var x=[],H=0;for(U=0;U<_;U++){for(var L=0;L<B[U];L++)x.push(g[U]);H+=B[U]}var S=p/F,N=b/P,G=S*N;c(M,S*H,k,x,H,N),d(M,o,S,N,H-2,H,H,s);var J=new Uint16Array(G*B[0]);if(2==F&&2==P){for(U=0;U<G;U++)J[4*U]=M[6*U],J[4*U+1]=M[6*U+1],J[4*U+2]=M[6*U+2],J[4*U+3]=M[6*U+3];d(J,o,4*S,N,0,1,1,s);for(U=0;U<G;U++)M[6*U]=J[4*U],M[6*U+1]=J[4*U+1],M[6*U+2]=J[4*U+2],M[6*U+3]=J[4*U+3]}if(2==F&&1==P){for(U=0;U<G;U++)J[2*U]=M[4*U],J[2*U+1]=M[4*U+1];d(J,o,2*S,N,0,1,1,s);for(U=0;U<G;U++)M[4*U]=J[2*U],M[4*U+1]=J[2*U+1]}for(var O=M.slice(0),W=0;W<b;W++)if(2==P)for(var j=0;j<p;j++){var T=((W>>>1)*S+(j>>>1))*H,R=2*(1&W)+(1&j);M[Q=(W*p+j)*_]=O[T+R],M[Q+1]=O[T+4],M[Q+2]=O[T+5]}else for(j=0;j<p;j++){var Q;T=(W*S+(j>>>1))*H,R=1&j;M[Q=(W*p+j)*_]=O[T+R],M[Q+1]=O[T+2],M[Q+2]=O[T+3]}}else if(c(M,p*_,k,g,_,b),0==l)d(M,o,p,b,0,_,_,s);else{var q=Math.floor(l/p);for(W=0;W<b;W+=q){var Z=M.slice(W*p*_,(W+q)*p*_);d(Z,o,p,q,0,_,_,s),M.set(Z,W*p*_)}}}return M}}(),function(){var e=5,t=6,n=13,i=14;function a(r){var e={c:new Int8Array(2<<r.u)};return function(r,e,t){var n=[e,3*e+18,5*e+67,7*e+276,t];r.o=e,r.w=(n[4]+2*e)/(2*e+1)+1|0,r.v=Math.ceil(Math.log2(r.w)),r.t=9,function(r,e){for(var t=-e[4],n=0;t<=e[4];n++,t++)r[n]=t<=-e[3]?-4:t<=-e[2]?-3:t<=-e[1]?-2:t<-e[0]?-1:t<=e[0]?0:t<e[1]?1:t<e[2]?2:t<e[3]?3:4}(r.c,n)}(e,0,r.g),e}function f(r){for(var e=[[],[],[]],t=Math.max(2,r.w+32>>>6),n=0;n<3;n++)for(var i=0;i<41;i++)e[n][i]=[t,1];return e}function o(r,e){var t=0,n=8-r.a;r.j,r.a;if(e){if(e>=n)do{t<<=n,e-=n,t|=r[r.j]&(1<<n)-1,r.j++,n=8}while(e>=8);e&&(t<<=e,n-=e,t|=r[r.j]>>>n&(1<<e)-1),r.a=8-n}return t}function u(r,e,t,n,i,a,f,u){null==u&&(u=0);var s,l,c,v,d,h,w=a+1,g=w%2,_=0,b=n[i],p=n[i-1],m=n[i-2][w],A=p[w-1],U=p[w],I=p[w+1],y=b[w-1],E=b[w+1],D=Math.abs;if(g&&(c=D(I-U),v=D(m-U),d=D(A-U)),g){if(h=(h=c>d&&v<c?m+A:c<d&&v<d?m+I:I+A)+2*U>>>2,u)return void(b[w]=h);s=e.t*e.c[r.g+U-m]+e.c[r.g+A-U]}else h=U>A&&U>I||U<A&&U<I?E+y+2*U>>>2:y+E>>>1,s=e.t*e.c[r.g+U-A]+e.c[r.g+A-y];l=D(s);var M=function(r){for(var e=-1,t=0;!t;e++)t=r[r.j]>>>7-r.a&1,r.a++,r.a&=7,r.a||r.j++;return e}(t);if(M<r.n-e.v-1){var k=function(r,e){var t=0;if(e<r)for(;t<=14&&e<<++t<r;);return t}(f[l][0],f[l][1]);_=o(t,k)+(M<<k)}else _=o(t,e.v)+1;_=1&_?-1-(_>>>1):_>>>1,f[l][0]+=D(_),f[l][1]==r.f&&(f[l][0]>>>=1,f[l][1]>>>=1),f[l][1]++,h=s<0?h-_:h+_,r.i&&(h<0?h+=e.w:h>r.g&&(h-=e.w)),b[w]=h>=0?Math.min(h,r.g):0}function s(r,e,t){for(var n=r[0].length,i=e;i<=t;i++)r[i][0]=r[i-1][1],r[i][n-1]=r[i-1][n-2]}function l(r){s(r,7,12),s(r,2,4),s(r,15,17)}function c(r,e,t,i,a,f,o,s,c,v,d,h,w){for(var g=0,_=1,b=a<n&&a>4;_<r.m;)g<r.m&&(u(r,e,t,i,a,g,o[c],r.h&&(b&&v||!b&&(d||(g&h)==w))),u(r,e,t,i,f,g,o[c],r.h&&(!b&&v||b&&(d||(g&h)==w))),g+=2),g>8&&(u(r,e,t,i,a,_,s[c]),u(r,e,t,i,f,_,s[c]),_+=2);l(i)}function v(r,e,t,n,i,a){c(r,e,t,n,2,7,i,a,0,0,1,0,8),c(r,e,t,n,8,15,i,a,1,0,1,0,8),c(r,e,t,n,3,9,i,a,2,1,0,3,0),c(r,e,t,n,10,16,i,a,0,0,0,3,2),c(r,e,t,n,4,11,i,a,1,0,0,3,2),c(r,e,t,n,12,17,i,a,2,1,0,3,0)}function d(r,e,t,n,i,a){var f=a.length,o=r.l;i+1==r.s&&(o=r.e-i*r.l);for(var u=6*r.e*n+i*r.l,s=0;s<6;s++){for(var l=0;l<o;l++){var c,v=a[s%f][l%f];c=0==v?2+(s>>>1):2==v?15+(s>>>1):7+s;var d=r.h?(2*l/3&2147483646|l%3&1)+(l%3>>>1):l>>>1;e[u+l]=t[c][d+1]}u+=r.e}}r._decompressRAF=function(o,u){var s=function(e){var t=r._binBE.readUshort,n={b:t(e,0),i:e[2],C:e[3],u:e[4],q:t(e,5),k:t(e,7),e:t(e,9),l:t(e,11),s:e[13],d:t(e,14)};if(18771!=n.b||n.i>1||n.q<6||n.q%6||n.e<768||n.e%24||768!=n.l||n.k<n.l||n.k%n.l||n.k-n.e>=n.l||n.s>16||n.s!=n.k/n.l||n.s!=Math.ceil(n.e/n.l)||n.d!=n.q/6||12!=n.u&&14!=n.u&&16!=n.u||16!=n.C&&0!=n.C)throw"Invalid data";if(0==n.i)throw"Not implemented. We need this file!";return n.h=16==n.C,n.m=0|(n.h?2*n.l/3:n.l>>>1),n.A=n.m+2,n.f=64,n.g=(1<<n.u)-1,n.n=4*n.u,n}(o),c=function(e,t){var n=new Array(t.s),i=4*t.s,a=16+i;12&i&&(a+=16-(12&i));for(var f=0,o=16;f<t.s;o+=4){var u=r._binBE.readUint(e,o);n[f]=e.slice(a,a+u),n[f].j=0,n[f].a=0,a+=u,f++}if(a!=e.length)throw"Invalid data";return n}(o,s),h=a(s),w=new Int16Array(s.e*s.q);null==u&&(u=s.h?[[1,1,0,1,1,2],[1,1,2,1,1,0],[2,0,1,0,2,1],[1,1,2,1,1,0],[1,1,0,1,1,2],[0,2,1,2,0,1]]:[[0,1],[3,2]]);for(var g=[[0,3],[1,4],[e,11],[t,12],[n,16],[i,17]],_=[],b=0;b<18;b++)_[b]=new Uint16Array(s.A);for(var p=0;p<s.s;p++){var m=f(h),A=f(h);for(b=0;b<18;b++)for(var U=0;U<s.A;U++)_[b][U]=0;for(var I=0;I<s.d;I++){v(s,h,c[p],_,m,A);for(b=0;b<6;b++)for(U=0;U<s.A;U++)_[g[b][0]][U]=_[g[b][1]][U];d(s,w,_,I,p,u);for(b=2;b<18;b++)if(-1==[e,t,n,i].indexOf(b))for(U=0;U<s.A;U++)_[b][U]=0;l(_)}}return w}}()}(e)}()}}]);