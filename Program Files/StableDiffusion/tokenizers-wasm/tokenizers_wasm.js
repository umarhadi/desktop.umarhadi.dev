let wasm;const heap=new Array(128).fill(void 0);function getObject(e){return heap[e]}heap.push(void 0,null,!0,!1);let heap_next=heap.length;function dropObject(e){e<132||(heap[e]=heap_next,heap_next=e)}function takeObject(e){const t=getObject(e);return dropObject(e),t}const cachedTextDecoder=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});cachedTextDecoder.decode();let cachedUint8Memory0=null;function getUint8Memory0(){return null!==cachedUint8Memory0&&0!==cachedUint8Memory0.byteLength||(cachedUint8Memory0=new Uint8Array(wasm.memory.buffer)),cachedUint8Memory0}function getStringFromWasm0(e,t){return cachedTextDecoder.decode(getUint8Memory0().subarray(e,e+t))}function addHeapObject(e){heap_next===heap.length&&heap.push(heap.length+1);const t=heap_next;return heap_next=heap[t],heap[t]=e,t}let WASM_VECTOR_LEN=0;const cachedTextEncoder=new TextEncoder("utf-8"),encodeString="function"==typeof cachedTextEncoder.encodeInto?function(e,t){return cachedTextEncoder.encodeInto(e,t)}:function(e,t){const n=cachedTextEncoder.encode(e);return t.set(n),{read:e.length,written:n.length}};function passStringToWasm0(e,t,n){if(void 0===n){const n=cachedTextEncoder.encode(e),r=t(n.length);return getUint8Memory0().subarray(r,r+n.length).set(n),WASM_VECTOR_LEN=n.length,r}let r=e.length,a=t(r);const c=getUint8Memory0();let o=0;for(;o<r;o++){const t=e.charCodeAt(o);if(t>127)break;c[a+o]=t}if(o!==r){0!==o&&(e=e.slice(o)),a=n(a,r,r=o+3*e.length);const t=getUint8Memory0().subarray(a+o,a+r);o+=encodeString(e,t).written}return WASM_VECTOR_LEN=o,a}function handleError(e,t){try{return e.apply(this,t)}catch(e){wasm.__wbindgen_exn_store(addHeapObject(e))}}class EncodingWasm{static __wrap(e){const t=Object.create(EncodingWasm.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();wasm.__wbg_encodingwasm_free(e)}get input_ids(){return takeObject(wasm.encodingwasm_get_ids(this.ptr))}get tokens(){return takeObject(wasm.encodingwasm_get_tokens(this.ptr))}}class TokenizerWasm{static __wrap(e){const t=Object.create(TokenizerWasm.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();wasm.__wbg_tokenizerwasm_free(e)}constructor(e){const t=passStringToWasm0(e,wasm.__wbindgen_malloc,wasm.__wbindgen_realloc),n=WASM_VECTOR_LEN,r=wasm.tokenizerwasm_from_buffer(t,n);return TokenizerWasm.__wrap(r)}encode(e,t){const n=passStringToWasm0(e,wasm.__wbindgen_malloc,wasm.__wbindgen_realloc),r=WASM_VECTOR_LEN,a=wasm.tokenizerwasm_encode(this.ptr,n,r,t);return EncodingWasm.__wrap(a)}}async function load(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if("application/wasm"==e.headers.get("Content-Type"))throw t;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t)}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}function getImports(){const e={wbg:{}};return e.wbg.__wbindgen_object_drop_ref=function(e){takeObject(e)},e.wbg.__wbg_crypto_70a96de3b6b73dac=function(e){return addHeapObject(getObject(e).crypto)},e.wbg.__wbindgen_is_object=function(e){const t=getObject(e);return"object"==typeof t&&null!==t},e.wbg.__wbg_process_dd1577445152112e=function(e){return addHeapObject(getObject(e).process)},e.wbg.__wbg_versions_58036bec3add9e6f=function(e){return addHeapObject(getObject(e).versions)},e.wbg.__wbg_node_6a9d28205ed5b0d8=function(e){return addHeapObject(getObject(e).node)},e.wbg.__wbindgen_is_string=function(e){return"string"==typeof getObject(e)},e.wbg.__wbg_require_f05d779769764e82=function(){return handleError((function(){return addHeapObject(module.require)}),arguments)},e.wbg.__wbindgen_string_new=function(e,t){return addHeapObject(getStringFromWasm0(e,t))},e.wbg.__wbg_msCrypto_adbc770ec9eca9c7=function(e){return addHeapObject(getObject(e).msCrypto)},e.wbg.__wbg_getRandomValues_3774744e221a22ad=function(){return handleError((function(e,t){getObject(e).getRandomValues(getObject(t))}),arguments)},e.wbg.__wbg_randomFillSync_e950366c42764a07=function(){return handleError((function(e,t){getObject(e).randomFillSync(takeObject(t))}),arguments)},e.wbg.__wbg_new_b525de17f44a8943=function(){return addHeapObject(new Array)},e.wbg.__wbindgen_is_function=function(e){return"function"==typeof getObject(e)},e.wbg.__wbg_newnoargs_2b8b6bd7753c76ba=function(e,t){return addHeapObject(new Function(getStringFromWasm0(e,t)))},e.wbg.__wbg_call_95d1ea488d03e4e8=function(){return handleError((function(e,t){return addHeapObject(getObject(e).call(getObject(t)))}),arguments)},e.wbg.__wbg_self_e7c1f827057f6584=function(){return handleError((function(){return addHeapObject(self.self)}),arguments)},e.wbg.__wbg_window_a09ec664e14b1b81=function(){return handleError((function(){return addHeapObject(window.window)}),arguments)},e.wbg.__wbg_globalThis_87cbb8506fecf3a9=function(){return handleError((function(){return addHeapObject(globalThis.globalThis)}),arguments)},e.wbg.__wbg_global_c85a9259e621f3db=function(){return handleError((function(){return addHeapObject(global.global)}),arguments)},e.wbg.__wbindgen_is_undefined=function(e){return void 0===getObject(e)},e.wbg.__wbg_push_49c286f04dd3bf59=function(e,t){return getObject(e).push(getObject(t))},e.wbg.__wbg_call_9495de66fdbe016b=function(){return handleError((function(e,t,n){return addHeapObject(getObject(e).call(getObject(t),getObject(n)))}),arguments)},e.wbg.__wbg_buffer_cf65c07de34b9a08=function(e){return addHeapObject(getObject(e).buffer)},e.wbg.__wbg_newwithbyteoffsetandlength_9fb2f11355ecadf5=function(e,t,n){return addHeapObject(new Uint8Array(getObject(e),t>>>0,n>>>0))},e.wbg.__wbg_new_537b7341ce90bb31=function(e){return addHeapObject(new Uint8Array(getObject(e)))},e.wbg.__wbg_set_17499e8aa4003ebd=function(e,t,n){getObject(e).set(getObject(t),n>>>0)},e.wbg.__wbg_newwithbyteoffsetandlength_5c5a6e21987c3bee=function(e,t,n){return addHeapObject(new Uint32Array(getObject(e),t>>>0,n>>>0))},e.wbg.__wbg_new_f0a82b8de89b00e8=function(e){return addHeapObject(new Uint32Array(getObject(e)))},e.wbg.__wbg_newwithlength_b56c882b57805732=function(e){return addHeapObject(new Uint8Array(e>>>0))},e.wbg.__wbg_subarray_7526649b91a252a6=function(e,t,n){return addHeapObject(getObject(e).subarray(t>>>0,n>>>0))},e.wbg.__wbindgen_object_clone_ref=function(e){return addHeapObject(getObject(e))},e.wbg.__wbindgen_throw=function(e,t){throw new Error(getStringFromWasm0(e,t))},e.wbg.__wbindgen_memory=function(){return addHeapObject(wasm.memory)},e}function initMemory(e,t){}function finalizeInit(e,t){return wasm=e.exports,init.__wbindgen_wasm_module=t,cachedUint8Memory0=null,wasm}function initSync(e){const t=getImports();initMemory(t),e instanceof WebAssembly.Module||(e=new WebAssembly.Module(e));return finalizeInit(new WebAssembly.Instance(e,t),e)}async function init(e){void 0===e&&(e="/System/StableDiffusion/tokenizers-wasm/tokenizers_wasm_bg.wasm");const t=getImports();("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e)),initMemory(t);const{instance:n,module:r}=await load(await e,t);return finalizeInit(n,r)}globalThis.Tokenizer={init,TokenizerWasm};